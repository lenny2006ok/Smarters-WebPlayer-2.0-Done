<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 7.2
 * @ Decoder version: 1.0.4
 * @ Release: 01/09/2021
 */

$Fportallink = isset($_SESSION["selectedhost"]) && !empty($_SESSION["selectedhost"]) ? $_SESSION["selectedhost"] : "";
$bar = "/";
if (substr($Fportallink, -1) == "/") {
    $bar = "";
}
$Fportallink = $Fportallink . $bar;
$usnametoplay = isset($_SESSION["webTvplayer"]["username"]) && !empty($_SESSION["webTvplayer"]["username"]) ? $_SESSION["webTvplayer"]["username"] : "";
$passwordtoplay = isset($_SESSION["webTvplayer"]["password"]) && !empty($_SESSION["webTvplayer"]["password"]) ? $_SESSION["webTvplayer"]["password"] : "";
if (isset($_GET["action"]) && $_GET["action"] == "Msearch") {
}
echo "\r\n<style type=\"text/css\">\r\n.onloadlive .liveFrameImg { height: 50px; }\r\n.erroronplayer { font-size: 21px; font-weight: 600; justify-content: center; justify-items: center; justify-self: center; margin-top: 25%; margin-bottom: 25%; }\r\n.jwplayer.jw-flag-aspect-mode { height: inherit !important; }\r\n#liveplayer-wrapper h3{ font-size: 21px; font-weight: 600; justify-content: center; justify-items: center; justify-self: center; margin-top: 25%; margin-bottom: 25%;}\r\n</style>\r\n\r\n<!-- a Flowplayer skin -->\r\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/skin/skin.css\" />\r\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/skin/skin.min.css\"/>\r\n<!-- Flowplayer library -->\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/flowplayer.min.js\"></script>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/flowplayer.js\"></script>\r\n<!-- Flowplayer hlsjs engine -->\r\n<script src=\"https://releases.flowplayer.org/hlsjs/flowplayer.hlsjs.min.js\"></script>\r\n<!-- separate hlsjs plugin component -->\r\n<script src=\"//releases.flowplayer.org/hlsjs/flowplayer.hlsjs.light.js\"></script>\r\n<script src='https://content.jwplatform.com/libraries/fgbTqCCh.js'></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@latest\"></script>\r\n\r\n\r\n\r\n<!-------------------------- Jquery section -------------------->\r\n<script type=\"text/javascript\">\r\nvar reconnectInt;\r\n\$(document).ready(function(){\r\n\r\n var currentthemename = \$('#currentthemename').val();\r\n\r\n\r\n\r\n    masterredirect = localStorage.getItem(\"masterredirect\");    \r\n    \$(\"#categorysechtml\").addClass('disable');\r\n    \$('#streamsdatahtml').addClass('disable');\r\n    var userAnyName = '";
echo $_SESSION["webTvplayer"]["anyname"];
echo "';\r\n    var anyname = '";
echo $_SESSION["webTvplayer"]["anyname"];
echo "';\r\n    var channelhistorystreamidsave = {};\r\n\tvar finalhistoryarray = {};\r\n    var filterchannelhistorystreamidsave = [];\r\n    var selectedCategory = \"\";\r\n    var currentPlayingStream = \"\";\r\n    var fulldatalive = [];\r\n    var counts = {};\r\n    var channelhistorytoshow = {};\r\n    var favouritetoshow = {};\r\n    var currentSelectedCategory = \"\";\r\n    var favchannelgetall = localStorage.getItem(\"favouritelive\");\r\n    var newfavchannelgetall = JSON.parse(favchannelgetall);\r\n    var newfavidstream = [];\r\n    var unloackid = '';\r\n    var parentalnamelock = [\"adults\", \"adult\", \"Adults\", \"XXX\", \"Porn\", \"xxx\", \"Sexy\", \"foradults\", \"ADULTE\", \"ADULTES\", \"for adults\", \"FOR ADULTS\", \"adulte\"];\r\n    var channelhistoryallow = getthesavedgeneralsettings();\r\n    if(channelhistoryallow){\r\n        if(channelhistoryallow != null){\r\n            if(channelhistoryallow[0]['channelHistoryAllow'] == 'true'){\r\n                var channelHistoryallow = channelhistoryallow[0]['channelHistoryAllow'];\r\n            }else if(channelhistoryallow[0]['channelHistoryAllow'] == true){\r\n                var channelHistoryallow = channelhistoryallow[0]['channelHistoryAllow'];\r\n            }\r\n            var channelHistoryval = Number(channelhistoryallow[0]['channelHistory']);\r\n        }\r\n    }else{\r\n        var channelHistoryallow = \"\";\r\n    }\r\n\r\n    var playerselections = getthesavedplayerselction();\r\n    if(playerselections){\r\n        if(playerselections != null){\r\n            var changePlayerSetting = \$.trim(playerselections[0]['livePlayer']);\r\n        }else{\r\n            var changePlayerSetting = 'JW Player (Recommended)';\r\n        }\r\n    }else{\r\n        var changePlayerSetting = 'JW Player (Recommended)';\r\n    }\r\n    var parentalcontrololdoption = 'off';\r\n    var saveparentalcontrolpass = '';\r\n    var parentalcontroldiv = getthesavedparentalcontrol();\r\n    if(parentalcontroldiv){\r\n        if(parentalcontroldiv != null){\r\n            if(parentalcontroldiv != ''){\r\n                parentalcontrololdoption = 'ON';\r\n                saveparentalcontrolpass = parentalcontroldiv[0];\r\n            }\r\n        }        \r\n    }\r\n\r\n    var selectedtime = '12';\r\n    var getimeformat = getthesavedtimeformat();\r\n    if(getimeformat){\r\n        if(getimeformat != null){\r\n            if(getimeformat != ''){\r\n                selectedtime = getimeformat[0]['timeFormat'];\r\n            }\r\n        }        \r\n    }\r\n\r\n    var selectedepgtime = '0';\r\n    var getimeshift = getthesavedtimeshift();\r\n    if(getimeshift){\r\n        if(getimeshift != null){\r\n            if(getimeshift != ''){\r\n                selectedepgtime = getimeshift[0];\r\n            }\r\n        }        \r\n    }\r\n\r\n    //Sorting Functions data \r\n    getsortingvalue = getthesavedsorting();\r\n    \$(\".sortingset\").find('.sortingsetval').each(function( index ) {\r\n            perfectsortvalue = \$(this).val();\r\n            if(getsortingvalue == perfectsortvalue){\r\n                \$(this).attr('checked', true);\r\n            }\r\n    });\r\n\r\n    \$('.savepopsortbtn').click(function(){\r\n        \$('.sortpop').removeClass('show');\r\n        \$('.sortpop').addClass('hide');\r\n        thisvartoselected = \$(\"input:radio[class=sortingsetval]:checked\");\r\n            sortvalue = thisvartoselected.val();\r\n            sortingvaluesave = {};\r\n            sortingcount = localStorage.getItem(\"sortinglive\");\r\n            newsortingget = JSON.parse(sortingcount);\r\n            newsortingarray = [];\r\n            if(newsortingget != null)\r\n            {\r\n                if(typeof newsortingget[anyname] != \"undefined\") \r\n                {\r\n                    newsortingarray = newsortingget[anyname];\r\n                }\r\n            }\r\n            if(jQuery.inArray(sortvalue, newsortingarray) == -1)\r\n            { \r\n                newsortingarray.splice(newsortingarray.indexOf(sortvalue), 1);\r\n                newsortingarray.push(sortvalue);   \r\n            } \r\n            sortingvaluesave[anyname] = newsortingarray;\r\n\r\n            finalenewarray = {};\r\n            \$.each(newsortingget, function( index, value ) {\r\n                finalenewarray[index] = value;\r\n            });\r\n\r\n            if(typeof finalenewarray[anyname] != \"undefined\") \r\n            {\r\n                if(finalenewarray[anyname].length > 0)\r\n                {\r\n                    finalenewarray[anyname] = sortingvaluesave[anyname];    \r\n                } \r\n            }\r\n            else\r\n            {\r\n                finalenewarray[anyname] = sortingvaluesave[anyname];  ;\r\n            }\r\n\r\n           localStorage.setItem('sortinglive', JSON.stringify(finalenewarray));\r\n           functiontochangethearraybysorting();\r\n           if(selectedCategory != \"\")\r\n           {\r\n                setTimeout(function(){ filterstreamsbyid(selectedCategory); }, 100);\r\n           }\r\n    });\r\n\r\n    function getthesavedsorting()\r\n    {\r\n        //Getstored History CHannels\r\n        storedsortingvalue = \"\";\r\n        addedsortvalue = localStorage.getItem(\"sortinglive\");\r\n        newaddedsortvalue = JSON.parse(addedsortvalue);\r\n         if(newaddedsortvalue != null)\r\n        {\r\n            if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \r\n            {\r\n                storedsortingvalue = newaddedsortvalue[userAnyName];\r\n            }\r\n        }\r\n\r\n        return storedsortingvalue;\r\n    }\r\n    //ends here\r\n\r\n    function getthesavedparentalcontrol()\r\n    {\r\n        storedplayervalue = \"\";\r\n        addedplayervalue = localStorage.getItem(\"parentalControl\");\r\n        newaddedplayervalue = JSON.parse(addedplayervalue);\r\n         if(newaddedplayervalue != null)\r\n        {\r\n            if(typeof newaddedplayervalue[userAnyName] != \"undefined\") \r\n            {\r\n                storedplayervalue = newaddedplayervalue[userAnyName];\r\n            }\r\n        }\r\n        return storedplayervalue;\r\n    }\r\n\r\n    function getthesavedtimeformat(){\r\n        storedtimevalue = \"\";\r\n        addedtimevalue = localStorage.getItem(\"timeformatsetting\");\r\n        newaddedtimevalue = JSON.parse(addedtimevalue);\r\n         if(newaddedtimevalue != null)\r\n        {\r\n            if(typeof newaddedtimevalue[userAnyName] != \"undefined\") \r\n            {\r\n                storedtimevalue = newaddedtimevalue[userAnyName];\r\n            }\r\n        }\r\n        return storedtimevalue;\r\n    }\r\n\r\n    function getthesavedtimeshift(){\r\n        storedtimevalue = \"\";\r\n        addedtimevalue = localStorage.getItem(\"epgsetting\");\r\n        newaddedtimevalue = JSON.parse(addedtimevalue);\r\n         if(newaddedtimevalue != null)\r\n        {\r\n            if(typeof newaddedtimevalue[userAnyName] != \"undefined\") \r\n            {\r\n                storedtimevalue = newaddedtimevalue[userAnyName];\r\n            }\r\n        }\r\n        return storedtimevalue;\r\n    }\r\n\r\n     // Get Live Categories AJAX Functionaliry\r\n\r\n    \$.ajax({\r\n        type: \"POST\",\r\n        url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\r\n        dataType:\"text\",\r\n        data:{\r\n            action:\"callApiRequest\",\r\n            subaction:\"get_live_categories\",\r\n            chanelhisallow:channelHistoryallow\r\n        }, \r\n        success: function (data) {\r\n\r\n            if(!checkisJson(data))\r\n            {\r\n                showerrorcode(\"102\",\".mainBody\");\r\n            }\r\n\r\n            if(data != \"\")\r\n            {\r\n                fulldatalive[\"category\"] =  JSON.parse(data);\r\n                cateforyhtmlemend(fulldatalive[\"category\"],\"\");\r\n            }\r\n                //Category Search Functionaliry\r\n            \r\n            \$('.cateSearch input').keyup(function(){\r\n                getcateinputvalue = \$(this).val();  \r\n                cateforyhtmlemend(fulldatalive[\"category\"],getcateinputvalue,counts);\r\n            });\r\n\r\n            document.getElementById('removecateseach').addEventListener('input', (e) => {\r\n                valuesearch = e.currentTarget.value;\r\n                if(valuesearch == \"\"){\r\n                    cateforyhtmlemend(fulldatalive[\"category\"],\"\",counts);\r\n                }\r\n            })\r\n            \r\n            document.getElementById('removestreamseach').addEventListener('input', (e) => {\r\n                valuesearch = e.currentTarget.value;\r\n                if(valuesearch == \"\"){\r\n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\r\n                    alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\r\n                    nextval = \$(\".labelclass-\"+alreatstreamactive).text();\r\n                    \$(\".labelclass-\"+alreatstreamactive).html(nextval);\r\n                }\r\n            })\r\n\r\n            \$('.closeSearch').click(function(){\r\n                \$('.SearchStreams').val('');\r\n                valuesearch = \$('.SearchStreams').val();\r\n                if(valuesearch == \"\"){\r\n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\r\n                    alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\r\n                    nextval = \$(\".labelclass-\"+alreatstreamactive).text();\r\n                    \$(\".labelclass-\"+alreatstreamactive).html(nextval);\r\n                }\r\n            })\r\n\r\n            // Get Live Streams AJAX Functionaliry\r\n\r\n            \$.ajax({\r\n                type: \"POST\",\r\n                url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\r\n                dataType:\"text\",\r\n                data:{\r\n                    action:\"callApiRequest\",\r\n                    subaction:\"get_live_streams\"\r\n                }, \r\n                success: function (data) {\r\n\r\n                    if(!checkisJson(data))\r\n                    {\r\n                        showerrorcode(\"102\",\".mainBody\");\r\n                    }\r\n\r\n                    Streamshtmltpappend = \"\";\r\n                    ashbjdasbhj = [];\r\n                    if(data != \"\")\r\n                    {\r\n                        fulldatalive[\"streams\"] = JSON.parse(data);         \r\n                        functiontochangethearraybysorting();\r\n                        counts[\"all\"] = fulldatalive[\"streams\"].length;\r\n                        checkcounter = 1;\r\n\r\n                        if(newfavchannelgetall != null){\r\n                            if(typeof newfavchannelgetall[userAnyName] != \"undefined\") \r\n                            {\r\n                                if(newfavchannelgetall[userAnyName].length > 0)\r\n                                {\r\n                                    favidstream = newfavchannelgetall[userAnyName];\r\n                                } \r\n                            }\r\n                        }\r\n\r\n                        onloadcategoryid = \"\";\r\n                        if(\$(\".categoryselectonload\").length > 0)\r\n                        {\r\n                            onloadcategoryid = \$(\".categoryselectonload\").data(\"cateid\");\r\n                            selectedCategory = onloadcategoryid;\r\n                        }\r\n                        if(onloadcategoryid != \"\")\r\n                        {\r\n                            \$.each(fulldatalive[\"streams\"], function (index, value) {\r\n                                if (!counts.hasOwnProperty(value.category_id)) {\r\n                                    counts[value.category_id] = 1;\r\n                                } else {\r\n                                    counts[value.category_id]++;\r\n                                }\r\n                                if(onloadcategoryid == value.category_id)\r\n                                {                                   \r\n                                    activestreams = \"\";\r\n                                    if(checkcounter == 1)\r\n                                    {\r\n                                        activestreams = \"active\";\r\n                                        showHidela = \"show\";\r\n                                        showHideprobar = \"flex\";\r\n                                    }\r\n                                    else{\r\n                                        showHidela = \"hide\";\r\n                                        showHideprobar = \"hide\";\r\n                                    }   \r\n\r\n                                    favbtn = '';\r\n                                    favactions = 'add';\r\n                                    oregstreamid = value.stream_id;\r\n                                    savedfavdata = getthesavedfavourite();\r\n                                    if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\r\n                                    { \r\n                                        favbtn = 'style=\"color:red;display:block !important;\"';\r\n                                        favactions = 'remove';\r\n                                        oregstreamid = value.stream_id;\r\n                                    }\r\n                                    \r\n                                    \r\n\r\n                                    classofimage = 'imagesele-' + value.stream_id;\r\n                                    Streamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\r\n                                    Streamshtmltpappend+= ' <div class=\"row margin\">';\r\n                                    Streamshtmltpappend+= '     <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\r\n                                    Streamshtmltpappend+= '         <div class=\"liveFrameImg\">';\r\n                                    Streamshtmltpappend+= '             <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\r\n                                    Streamshtmltpappend+= '         </div>';\r\n                                    Streamshtmltpappend+= '     </div>';\r\n                                    Streamshtmltpappend+= '     <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\r\n                                    Streamshtmltpappend+= '         <div class=\"liveFrameChanName\">';\r\n                                    Streamshtmltpappend+= '             <span>'+value.name+'</span><br>';\r\n                                    Streamshtmltpappend+= '         </div>';\r\n                                    Streamshtmltpappend+= '     </div>';\r\n                                    Streamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n                                    Streamshtmltpappend+= '          <div class=\"liveFramedel\">';\r\n                                    Streamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn +' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\r\n                                    Streamshtmltpappend+= '          </div>';\r\n                                    Streamshtmltpappend+= '      </div>';\r\n                                    Streamshtmltpappend+= ' </div>';\r\n                                    Streamshtmltpappend+= '</div>';\r\n                                    checkcounter = Number(checkcounter)+Number(1);\r\n                                }\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            \$.each(fulldatalive[\"streams\"], function (index, value) {\r\n                                 if (!counts.hasOwnProperty(value.category_id)) {\r\n                                    counts[value.category_id] = 1;\r\n                                  } else {\r\n                                    counts[value.category_id]++;\r\n                                  }\r\n                                activestreams = \"\";\r\n                                if(checkcounter == 1)\r\n                                {\r\n                                    activestreams = \"active\";\r\n                                    showHidela = \"show\";\r\n                                    showHideprobar = \"flex\";\r\n                                }\r\n                                else{\r\n                                    showHidela = \"hide\";\r\n                                    showHideprobar = \"hide\";\r\n                                } \r\n\r\n                                favbtn = '';\r\n                                favactions = 'add';\r\n                                oregstreamid = value.stream_id;\r\n\r\n                                savedfavdata = getthesavedfavourite();\r\n                                if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\r\n                                { \r\n                                    favbtn = 'style=\"color:red;display:block !important;\"';\r\n                                    favactions = 'remove';\r\n                                    oregstreamid = value.stream_id;\r\n                                }\r\n                                \r\n                                classofimage = 'imagesele-' + value.stream_id;\r\n                                Streamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\r\n                                Streamshtmltpappend+= ' <div class=\"row margin\">';\r\n                                Streamshtmltpappend+= '     <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\r\n                                Streamshtmltpappend+= '         <div class=\"liveFrameImg\">';\r\n                                Streamshtmltpappend+= '             <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\r\n                                Streamshtmltpappend+= '         </div>';\r\n                                Streamshtmltpappend+= '     </div>';\r\n                                Streamshtmltpappend+= '     <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\r\n                                Streamshtmltpappend+= '         <div class=\"liveFrameChanName\">';\r\n                                Streamshtmltpappend+= '             <span>'+value.name+'</span><br>';\r\n                                Streamshtmltpappend+= '         </div>';\r\n                                Streamshtmltpappend+= '     </div>';\r\n                                Streamshtmltpappend+= '     <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n                                Streamshtmltpappend+= '         <div class=\"liveFramedel\">';\r\n                                Streamshtmltpappend+= '             <i class=\"fa fa-heart savefavchannel\" data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\r\n                                Streamshtmltpappend+= '         </div>';\r\n                                Streamshtmltpappend+= '     </div>';\r\n                                Streamshtmltpappend+= ' </div>';\r\n                                Streamshtmltpappend+= '</div>';\r\n                                checkcounter = Number(checkcounter)+Number(1);\r\n                            });\r\n                        }\r\n                        \$(\"#categorysechtml\").removeClass('disable');\r\n                        \$('#streamsdatahtml').removeClass('disable');\r\n                    }\r\n                    else\r\n                    {\r\n                        Streamshtmltpappend = \"<center class='notfoundepg'> No Streams Found! </center>\";\r\n                    }\r\n\r\n                    //This function will add counts to cateory\r\n                    addcategorycounters(counts);\r\n\r\n                    \$(\"#streamsdatahtml\").html(Streamshtmltpappend);\r\n\r\n                    onlaodstreamidforepg = \$(\".liveFrameBody.active\").data(\"streamid\");\r\n\r\n                    if(masterredirect == \"yes\")\r\n                    { \r\n                        totalstoredhistorychannels = getthesavedchannelshistoryarray();\r\n                        if(totalstoredhistorychannels.length > 0)\r\n                        {\r\n                            totalstoredhistorychannels.reverse();\r\n                            onlaodstreamidforepg = totalstoredhistorychannels[0];\r\n                            setTimeout(function(){ filterstreamsbyid(\"channels-history\"); }, 100);\r\n                        }\r\n                    }\r\n\r\n                    playchannesandconfigEPG(onlaodstreamidforepg);\r\n\r\n                    \$(\".liveFrameBody\").click(function(){\r\n                        \$(\".liveFrameBody\").removeClass(\"active\");\r\n                        \$(this).addClass(\"active\");\r\n                        getstreamid = \$(this).data(\"streamid\");\r\n                         playchannesandconfigEPG(getstreamid);\r\n                        \$(this).find('.liveFrameChanName label').removeClass('hide');\r\n                        \$(this).find('.liveFrameChanName label').addClass('show');\r\n                        \$(this).find('.progress').removeClass('hide');\r\n                        \$(this).find('.progress').addClass('flex');\r\n                    });\r\n\r\n                    var typingTimer;                //timer identifier\r\n                    var doneTypingInterval = 1000;  //time in ms (5 seconds)\r\n\r\n                    //on keyup, start the countdown\r\n                    \$('.SearchStreams').keyup(function(){\r\n                        clearTimeout(typingTimer);\r\n                        if (\$('.SearchStreams').val()) {\r\n                            typingTimer = setTimeout(doneTyping, doneTypingInterval);\r\n                        }\r\n                    });\r\n                    var alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\r\n                    var nextval = \$(\".labelclass-\"+alreatstreamactive).text();\r\n                    //user is \"finished typing,\" do something\r\n                    function doneTyping () {\r\n                        searchvalusis = \$(\".SearchStreams\").val();  \r\n                        categoryid = \$(\".categoryselect.active\").data(\"cateid\");\r\n                        if(\$(\".liveFrameBody.active\").length > 0)\r\n                        {\r\n                            alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\r\n                            nextval = \$(\".labelclass-\"+alreatstreamactive).text();\r\n                        }\r\n                        setTimeout(function(){ filterstreamsbyid(categoryid,searchvalusis,alreatstreamactive); }, 100);\r\n                        \$(\".labelclass-\"+alreatstreamactive).html(nextval);\r\n                    }\r\n\r\n                    \$('.savefavchannel').click(function(event){\r\n                        event.stopPropagation();\r\n                        favid = \$(this).data('favstreamid');\r\n                        favsection = \$(this).data('favsection');\r\n                        favaction = \$(this).data('favaction');\r\n                        addtofav(userAnyName, favid, favsection, favaction);\r\n                        if(favaction == 'add'){\r\n                            //\$(this).attr('data-favaction', 'remove');\r\n\t                        \$(this).data('favaction', 'remove');\r\n                            \$(this).attr('style','color:red; display:block !important;');\r\n                        }else{\r\n                            \$(this).data('favaction', 'add');\r\n\t                        //\$(this).attr('data-favaction', 'add');\r\n                            \$(this).attr('style','color:white;');\r\n                        }\r\n                    });\r\n                },\r\n                error: function (error) {\r\n                    showerrorcode(\"101\",\".mainBody\");\r\n                }\r\n            }); \r\n        },\r\n        error: function (error) {\r\n            showerrorcode(\"101\",\".mainBody\");\r\n        }\r\n    }); \r\n\r\n    // Show Streams all And Active Functionaliry\r\n\r\n    function filterstreamsbyid(categoryid = \"all\",searchvalue = \"\",alreatstreamactive = \"\")\r\n    {\r\n\r\n        currentSelectedCategory = categoryid; \r\n        insearchornot = \"\";\r\n        newStreamshtmltpappend = \"\";\r\n        checkcounter = 1;\r\n\r\n        if(searchvalue != \"\")\r\n        {\r\n            channelhistorytoshow = {};\r\n            favouritetoshow = {};\r\n        }\r\n\r\n        isspecialcategry = \"\";\r\n        specialinsearch = searchvalue;\r\n        if(categoryid == \"channels-history\")\r\n        {\r\n            isspecialcategry = categoryid;\r\n            categoryid = \"listbychannelhistory\";\r\n            searchvalue = \"\";\r\n        }\r\n        if(categoryid == \"favourite\")\r\n        {\r\n            isspecialcategry = categoryid;\r\n            categoryid = \"listbyfavourite\";\r\n            searchvalue = \"\";\r\n        }\r\n\r\n        \$.each(fulldatalive[\"streams\"], function (index, value) {\r\n            if(searchvalue != \"\")\r\n            {\r\n                insearchornot = \"yes\";\r\n                filter = searchvalue.toUpperCase();\r\n                if (value.name.toUpperCase().indexOf(filter) > -1) \r\n                {\r\n                    newStreamshtmltpappend = createhtmlandreturnstrems(categoryid,value,newStreamshtmltpappend,\"yes\",alreatstreamactive);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                newStreamshtmltpappend = createhtmlandreturnstrems(categoryid,value,newStreamshtmltpappend);\r\n            }\r\n            \r\n        });\r\n\r\n        if(isspecialcategry == \"channels-history\")\r\n        {\r\n            totalstoredhistorychannels = getthesavedchannelshistoryarray();\r\n            if(totalstoredhistorychannels.length > 0)\r\n            {\r\n                totalstoredhistorychannels.reverse();\r\n                NEWCcheckcounter = 1;\r\n                if(specialinsearch != \"\")\r\n                {\r\n                   \$.each(totalstoredhistorychannels, function( index, storedstreamid ) \r\n                    {\r\n                        value = channelhistorytoshow[storedstreamid];\r\n                        filter = specialinsearch.toUpperCase();\r\n                        if (value.name.toUpperCase().indexOf(filter) > -1) \r\n                        {                            \r\n                            newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\r\n                        }\r\n                    }); \r\n                }\r\n                else\r\n                {\r\n                    \$.each(totalstoredhistorychannels, function( index, storedstreamid ) \r\n                    {\r\n                        value = channelhistorytoshow[storedstreamid];\r\n                        newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\r\n                    }); \r\n                }\r\n                \r\n            }\r\n            categoryid = \"channels-history\";\r\n        }\r\n\r\n\r\n        if(isspecialcategry == \"favourite\")\r\n        {\r\n            totalstoredfavourite = getthesavedfavourite();\r\n            if(totalstoredfavourite.length > 0)\r\n            {\r\n                totalstoredfavourite.reverse();\r\n                NEWCcheckcounter = 1;\r\n                if(specialinsearch != \"\")\r\n                {\r\n                   \$.each(totalstoredfavourite, function( index, storedstreamid ) \r\n                    {\r\n                        value = favouritetoshow[storedstreamid];\r\n                        filter = specialinsearch.toUpperCase();\r\n                        if (value.name.toUpperCase().indexOf(filter) > -1) \r\n                        {                            \r\n                            newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\r\n                        }\r\n                    }); \r\n                }\r\n                else\r\n                {\r\n                    \$.each(totalstoredfavourite, function( index, storedstreamid ) \r\n                    {\r\n                        value = favouritetoshow[storedstreamid];\r\n                        newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\r\n                    }); \r\n                }\r\n                \r\n            }\r\n            categoryid = \"favourite\";\r\n        }\r\n\r\n\r\n\r\n        if(newStreamshtmltpappend != \"\")\r\n        {\r\n            \$(\"#streamsdatahtml\").html(newStreamshtmltpappend);\r\n        }\r\n        else\r\n        {\r\n            \$(\"#streamsdatahtml\").html(\"<center class='notfoundcate'>Related No Stream Found! </center>\");\r\n        }\r\n\r\n        \$(\".liveFrameBody\").click(function(){\r\n            \$(\".liveFrameBody\").removeClass(\"active\");\r\n            \$(this).addClass(\"active\");\r\n            getstreamid = \$(this).data(\"streamid\");\r\n            playchannesandconfigEPG(getstreamid);\r\n            \$(this).find('.liveFrameChanName label').removeClass('hide');\r\n            \$(this).find('.liveFrameChanName label').addClass('show');\r\n            \$(this).find('.progress').removeClass('hide');\r\n            \$(this).find('.progress').addClass('flex');\r\n        });\r\n        \r\n        \$('.channelhisremo').click(function(event){\r\n            event.stopPropagation();\r\n            gtidst = \$(this).data('savsteamid');\r\n\r\n            watchChannelcount = localStorage.getItem(\"channelhistory\");\r\n            newwatchChannelcount = JSON.parse(watchChannelcount);\r\n            idsarray = [];\r\n            if(newwatchChannelcount != null)\r\n            {\r\n                if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \r\n                {\r\n                    idsarray = newwatchChannelcount[userAnyName];\r\n                }\r\n            }\r\n            \r\n                idsarray.splice(idsarray.indexOf(gtidst), 1);\r\n\r\n                channelhistorystreamidsave[userAnyName] = idsarray;\r\n\r\n                finalenewarray = {};\r\n                \$.each(newwatchChannelcount, function( index, value ) {\r\n                    finalenewarray[index] = value;\r\n                });\r\n            \r\n                if(typeof finalenewarray[userAnyName] != \"undefined\") \r\n                {\r\n                    if(finalenewarray[userAnyName].length > 0)\r\n                    {\r\n                        finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \r\n                    } \r\n                }\r\n                else\r\n                {\r\n                    finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];\r\n                }\r\n                \r\n                localStorage.setItem('channelhistory', JSON.stringify(finalenewarray));\r\n\r\n                if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \r\n                {\r\n                    if(channelhistorystreamidsave[userAnyName].length > 0)\r\n                    {\r\n                        \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \r\n                    } \r\n                    else\r\n                    {\r\n                        \$(\"#totalstreams-channels-history\").html(\"0\");\r\n                    }\r\n                }   \r\n                 \r\n                setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\r\n                //\$(\".liveFrameBody[data-streamid='\" + gtidst +\"'\").remove();\r\n        });\r\n\r\n        \$('.savefavchannel').click(function(event){\r\n            event.stopPropagation();\r\n            favid = \$(this).data('favstreamid');\r\n            favsection = \$(this).data('favsection');\r\n            favaction = \$(this).data('favaction');\r\n            addtofav(userAnyName, favid, favsection, favaction);\r\n            if(favaction == 'add'){\r\n                 \$(this).data('favaction', 'remove');\r\n\t            //\$(this).attr('data-favaction', 'remove');\r\n                \$(this).attr('style','color:red; display:block !important;');\r\n            }else{\r\n                 \$(this).data('favaction', 'add');\r\n\t            //\$(this).attr('data-favaction', 'add');\r\n                \$(this).attr('style','color:white;');\r\n            }\r\n        });\r\n\r\n        \$('.delchannelhis').click(function(){\r\n\r\n            Swal.fire({\r\n              title: 'Are you sure?',\r\n              text: \"You won't be able to revert this!\",\r\n              icon: 'warning',\r\n              showCancelButton: true,\r\n              confirmButtonColor: '#3085d6',\r\n              cancelButtonColor: '#d33',\r\n              confirmButtonText: 'Yes, delete it!'\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    Swal.fire(\r\n                      'Deleted!',\r\n                      'Your data has been deleted.',\r\n                      'success'\r\n                    )\r\n                    channelhistorystreamidsave[userAnyName] = [];\r\n                    \r\n                    finalenewarray = {};\r\n                    \$.each(newwatchChannelcount, function( index, value ) {\r\n                        finalenewarray[index] = value;\r\n                    });\r\n                \r\n                    if(typeof finalenewarray[userAnyName] != \"undefined\") \r\n                    {\r\n                        if(finalenewarray[userAnyName].length > 0)\r\n                        {\r\n                            finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \r\n                        } \r\n                    }\r\n                    else\r\n                    {\r\n                        finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];\r\n                    }\r\n                \r\n                    localStorage.setItem('channelhistory', JSON.stringify(finalenewarray));\r\n                \r\n                    if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \r\n                    {\r\n                        if(channelhistorystreamidsave[userAnyName].length > 0)\r\n                        {\r\n                            \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \r\n                        } \r\n                        else\r\n                        {\r\n                            \$(\"#totalstreams-channels-history\").html(\"0\");\r\n                        }\r\n                    }   \r\n                \r\n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\r\n                }\r\n            })\r\n        });\r\n    }   \r\n\r\n\r\n    function createhtmlandreturnstrems(categoryid = \"all\",value,newStreamshtmltpappend,insearch = \"\",alreatstreamactive = \"\")\r\n    {   \r\n        returndatais = \"\";\r\n        if(categoryid == \"all\")\r\n        {\r\n            activestreams = \"\";\r\n            if(checkcounter == 1)\r\n            {\r\n                activestreams = \"\";\r\n                showHidela = \"show\";\r\n                showHideprobar = \"flex\";\r\n            }\r\n            else{\r\n                showHidela = \"hide\";\r\n                showHideprobar = \"hide\";\r\n            } \r\n\r\n            if(insearch == \"yes\")\r\n            {\r\n                activestreams = \"\";\r\n                showHidela = \"hide\";\r\n                showHideprobar = \"hide\";\r\n                if(alreatstreamactive != \"\")\r\n                {\r\n                    if(alreatstreamactive == value.stream_id)\r\n                    {\r\n                        activestreams = \"\";\r\n                        showHidela = \"show\";\r\n                        showHideprobar = \"flex\";\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(currentPlayingStream == value.stream_id)\r\n            {\r\n                activestreams = \"active\";\r\n            }\r\n\r\n            deletebtn = '';\r\n            if(currentSelectedCategory == \"channels-history\")\r\n            {\r\n                deletebtn = '<i class=\"fa fa-trash channelhisremo\" data-savsteamid=\"' + value.stream_id + '\" aria-hidden=\"true\"></i>';\r\n            }\r\n\r\n            favbtn = '';\r\n            favactions = 'add';\r\n            oregstreamid = value.stream_id;\r\n\r\n\r\n\r\n            savedfavdata = getthesavedfavourite();\r\n            if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\r\n            { \r\n                favbtn = 'style=\"color:red;display:block !important;\"';\r\n                favactions = 'remove';\r\n                oregstreamid = value.stream_id;\r\n            }\r\n\r\n\r\n\r\n            classofimage = 'imagesele-' + value.stream_id;\r\n            newStreamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" id=\"getstreamid\" data-streamid=\"'+value.stream_id+'\">';\r\n            newStreamshtmltpappend+= '  <div class=\"row margin\">';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFrameImg\">';\r\n            newStreamshtmltpappend+= '              <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-8 col-xs-8 col-md-8 col-lg-8 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFrameChanName\">';\r\n            newStreamshtmltpappend+= '              <span>'+value.name+'</span><br>';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\r\n            newStreamshtmltpappend+=                deletebtn;\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\r\n            newStreamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn+' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '  </div>';\r\n            newStreamshtmltpappend+= '</div>';\r\n            checkcounter = Number(checkcounter)+Number(1);\r\n        }\r\n        else if(categoryid == \"listbychannelhistory\")\r\n        {\r\n            watchChannelcount = localStorage.getItem(\"channelhistory\");\r\n            newwatchChannelcount = JSON.parse(watchChannelcount);\r\n            if(newwatchChannelcount != null)\r\n            {\r\n                if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \r\n                {\r\n                    chhistorytotals = newwatchChannelcount[userAnyName].length;\r\n                }\r\n            }\r\n            if(chhistorytotals == ''){\r\n                \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\r\n                \$('.cwalldelbtn').removeClass('delchannelhis');\r\n            }else{\r\n                \$('.cwalldelbtn').addClass('delchannelhis');\r\n                \$('.cwalldelbtn').attr('style','display: inline;opacity: 1;');\r\n            }\r\n\r\n            totalstoredhistorychannels = getthesavedchannelshistoryarray();\r\n\r\n            if(insearch == \"yes\")\r\n            {\r\n                if(jQuery.inArray(value.stream_id, totalstoredhistorychannels) != -1)\r\n                {                  \r\n                  if(alreatstreamactive == value.stream_id)\r\n                    {    \r\n                        channelhistorytoshow[value.stream_id] = value; \r\n                    } \r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(jQuery.inArray(value.stream_id, totalstoredhistorychannels) != -1)\r\n                { \r\n                    channelhistorytoshow[value.stream_id] = value; \r\n                }\r\n            }\r\n        }\r\n        else if(categoryid == \"listbyfavourite\")\r\n        {\r\n            \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\r\n            \$('.cwalldelbtn').removeClass('delchannelhis');\r\n            totalstoredfavourite = getthesavedfavourite();\r\n            if(insearch == \"yes\")\r\n            {\r\n                if(jQuery.inArray(value.stream_id, totalstoredfavourite) != -1)\r\n                {                  \r\n                  if(alreatstreamactive == value.stream_id)\r\n                    {    \r\n                        favouritetoshow[value.stream_id] = value; \r\n                    } \r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(jQuery.inArray(value.stream_id, totalstoredfavourite) != -1)\r\n                { \r\n                    favouritetoshow[value.stream_id] = value; \r\n                }\r\n            }\r\n        }\r\n        else if(categoryid == value.category_id)\r\n        {\r\n            \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\r\n            \$('.cwalldelbtn').removeClass('delchannelhis');\r\n            \$(\".ldlz\").hide();  \r\n            activestreams = \"\";\r\n            if(checkcounter == 1)\r\n            {\r\n                activestreams = \"\";\r\n                showHidela = \"show\";\r\n                showHideprobar = \"flex\";\r\n            }\r\n            else{\r\n                showHidela = \"hide\";\r\n                showHideprobar = \"hide\";\r\n            }\r\n\r\n            if(insearch == \"yes\")\r\n            {\r\n                activestreams = \"\";\r\n                showHidela = \"hide\";\r\n                showHideprobar = \"hide\";\r\n                if(alreatstreamactive != \"\")\r\n                {\r\n                    if(alreatstreamactive == value.stream_id)\r\n                    {\r\n                        activestreams = \"\";\r\n                        showHidela = \"show\";\r\n                        showHideprobar = \"flex\";\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(currentPlayingStream == value.stream_id)\r\n            {\r\n                activestreams = \"active\";\r\n            }\r\n\r\n             deletebtn = '';\r\n            if(currentSelectedCategory == \"channels-history\")\r\n            {\r\n                deletebtn = '<i class=\"fa fa-trash channelhisremo\" data-savsteamid=\"' + value.stream_id + '\" aria-hidden=\"true\"></i>';\r\n            }\r\n\r\n            favbtn = '';\r\n            favactions = 'add';\r\n            oregstreamid = value.stream_id;\r\n\r\n\r\n            savedfavdata = getthesavedfavourite();\r\n            if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\r\n            { \r\n                favbtn = 'style=\"color:red;display:block !important;\"';\r\n                favactions = 'remove';\r\n                oregstreamid = value.stream_id;\r\n            }\r\n\r\n            classofimage = 'imagesele-' + value.stream_id;\r\n            newStreamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\r\n            newStreamshtmltpappend+= '  <div class=\"row margin\">';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFrameImg\">';\r\n            newStreamshtmltpappend+= '              <img src=\"'+value.stream_icon+'\" alt=\"image\" class=\"'+classofimage+'\" onerror=\"noposterimage(' + value.stream_id + ')\">';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFrameChanName\">';\r\n            newStreamshtmltpappend+= '              <span>'+value.name+'</span><br>';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\r\n            newStreamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn+' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\"  data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\r\n            newStreamshtmltpappend+= '          </div>';\r\n            newStreamshtmltpappend+= '      </div>';\r\n            // newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\r\n            // newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\r\n            // newStreamshtmltpappend+=                deletebtn + 'SinghSaab2';\r\n            // newStreamshtmltpappend+= '          </div>';\r\n            // newStreamshtmltpappend+= '      </div>';\r\n            newStreamshtmltpappend+= '  </div>';\r\n            newStreamshtmltpappend+= '</div>';\r\n            checkcounter = Number(checkcounter)+Number(1);\r\n        }\r\n        returndatais = newStreamshtmltpappend;\r\n        return returndatais;\r\n    }\r\n\r\n    // Show Streams Loader when change category Functionaliry\r\n\r\n    function showHideLoaderCateData(){\r\n        loaderhtml = '';\r\n        for(var i = 1; i < 20; i++)\r\n        {\r\n            loaderhtml+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody onloadlive\">';\r\n            loaderhtml+= '<div class=\"row margin\">';\r\n            loaderhtml+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">';\r\n            loaderhtml+= '<div class=\"liveFrameChanName\" style=\"text-align: center; width: 100%;\">';\r\n            loaderhtml+= '<span style=\"width: 100%;\">';\r\n            loaderhtml+= '<div class=\"linear-background\">';\r\n            loaderhtml+= '<div class=\"inter-draw\"></div>';\r\n            loaderhtml+= '<div class=\"inter-crop\"></div>';\r\n            loaderhtml+= '<div class=\"inter-right--top\"></div>';\r\n            loaderhtml+= '<div class=\"inter-right--bottom\"></div>';\r\n            loaderhtml+= '</div>';\r\n            loaderhtml+= '</div>';\r\n            loaderhtml+= '</div>';\r\n            loaderhtml+= '</div>';\r\n        }\r\n        \$(\"#streamsdatahtml\").html(loaderhtml);\r\n    }\r\n\r\n    // Show EPG Loader when change Streams Functionaliry\r\n\r\n    function showHideLoaderEPGData(){\r\n        loaderhtml = '';\r\n        loaderhtml = '<center class=\"notfoundepg\">Loading EPG...</center>';\r\n        \$(\".liveEPGdiv\").html(loaderhtml);\r\n    }\r\n\r\n    // Get EPG and Player Functionaliry\r\n\r\n    function playchannesandconfigEPG(streamId)\r\n    {\r\n\r\n        watchChannelcount = localStorage.getItem(\"channelhistory\");\r\n        newwatchChannelcount = JSON.parse(watchChannelcount);\r\n        idsarray = [];\r\n        if(newwatchChannelcount != null)\r\n        {\r\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \r\n            {\r\n                idsarray = newwatchChannelcount[userAnyName];\r\n            }\r\n        }\r\n\r\n\r\n        if(jQuery.inArray(streamId, idsarray) == -1)\r\n        { \r\n            idsarray.push(streamId);   \r\n        }\r\n        else\r\n        {\r\n            idsarray.splice(idsarray.indexOf(streamId), 1);\r\n            idsarray.push(streamId); \r\n        }\r\n        channelhistorystreamidsave[userAnyName] = idsarray;\r\n        if(channelHistoryval){\r\n            if(channelhistorystreamidsave[userAnyName].length > channelHistoryval)\r\n            {\r\n                channelhistorystreamidsave[userAnyName].shift();\r\n            }\r\n        }else{\r\n            if(channelhistorystreamidsave[userAnyName].length > 10)\r\n            {\r\n                channelhistorystreamidsave[userAnyName].shift();\r\n            }\r\n        }\r\n        \r\n\r\n        finalenewarray = {};\r\n        \$.each(newwatchChannelcount, function( index, value ) {\r\n            finalenewarray[index] = value;\r\n        });\r\n\r\n        if(typeof finalenewarray[userAnyName] != \"undefined\") \r\n        {\r\n            if(finalenewarray[userAnyName].length > 0)\r\n            {\r\n                finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \r\n            } \r\n        }\r\n        else\r\n        {\r\n            finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];  ;\r\n        }\r\n\r\n        localStorage.setItem('channelhistory', JSON.stringify(finalenewarray));\r\n\r\n        if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \r\n        {\r\n            if(channelhistorystreamidsave[userAnyName].length > 0)\r\n            {\r\n                \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \r\n            } \r\n        }         \r\n        //Contiunue History Ends here\r\n\r\n        currentPlayingStream = streamId;\r\n        playlinkis = \"";
echo $Fportallink . "live/" . $usnametoplay . "/" . $passwordtoplay . "/";
echo "\"+streamId+\".m3u8\";\r\n\r\n        \$('#liveplayer-wrapper').html('');\r\n        if(changePlayerSetting == 'JW Player (Recommended)'){\r\n            getVideoLinkAjax(playlinkis);\r\n        }else{\r\n            getVideoLinkAjax_InFlowplayer(playlinkis);\r\n        }\r\n\r\n        showHideLoaderEPGData();\r\n        \$.ajax({\r\n            type: \"POST\",\r\n            url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\r\n            dataType:\"text\",\r\n            data:{\r\n                action:\"callApiRequestEpg\",\r\n                subaction:\"get_short_epg&stream_id=\"+streamId,\r\n                tformat:selectedtime,\r\n                etimes:selectedepgtime\r\n            }, \r\n            success: function (data) {\r\n                \$('.liveEPGdiv').html(data);\r\n                if(\$(\".firstepgis-\"+streamId).length > 0)\r\n                {\r\n                    titleis = \$(\".firstepgis-\"+streamId).data(\"titleis\");\r\n                    \$(\".labelclass-\"+streamId).html(titleis);\r\n                    \$(\".labelclass-\"+streamId).removeClass(\"hide\");\r\n                }else{\r\n                    \$(\".labelclass-\"+streamId).html('No Program Found');\r\n                }\r\n            },\r\n            error: function (error) {\r\n                showerrorcode(\"101\",\".mainBody\");\r\n            }\r\n        }); \r\n    }\r\n\r\n    // Categories show and show hide Categories Search according Functionaliry\r\n\r\n    function cateforyhtmlemend(allcategories = \"\", searchtext = \"\",counts = \"\")\r\n    {\r\n        alreadyselected = \"\";\r\n        if(\$(\".categoryselect.active\").length > 0)\r\n        {\r\n            alreadyselected = \$(\".categoryselect.active\").data(\"cateid\");\r\n        }\r\n\r\n        Categoryhtmltpappend = \"\";\r\n        if(searchtext != \"\")\r\n        {\r\n            searchcategoryhtmlappend = Categoryhtmltpappend;\r\n            filter = searchtext.toUpperCase();\r\n            \$.each(allcategories, function (index, value) {\r\n                if (value.category_name.toUpperCase().indexOf(filter) > -1) \r\n                {\r\n                    index = Number(index) + Number(1);\r\n                    searchcategoryhtmlappend += '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 categoryselect\" data-toggle=\"tooltip\" title=\"'+value.category_name+'\" data-cateid=\"'+value.category_id+'\">';\r\n                    searchcategoryhtmlappend += '<div class=\"row cateList\">';\r\n                    searchcategoryhtmlappend += '<div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\" style=\"text-align: initial;\">';\r\n                    searchcategoryhtmlappend += '<div class=\"liveCateList\">';\r\n                    searchcategoryhtmlappend += '<span>'+value.category_name+'</span>';\r\n                    searchcategoryhtmlappend += '</div>';\r\n                    searchcategoryhtmlappend += '</div>';\r\n                    searchcategoryhtmlappend += '<div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding cateNum\">';\r\n                    searchcategoryhtmlappend += '<div class=\"totalcountare\" id=\"totalstreams-'+value.category_id+'\"><img class=\"ldlz\" src=\"themes/'+currentthemename+'/images/golden.svg\" style=\"width: 30%;opacity: 1; visibility: visible;\"></div>';\r\n                    searchcategoryhtmlappend += '</div>';\r\n                    searchcategoryhtmlappend += '</div>';\r\n                    searchcategoryhtmlappend += '</div>';\r\n                }\r\n            });\r\n            if(searchcategoryhtmlappend == \"\")\r\n            {\r\n                searchcategoryhtmlappend = \"<center class='notfoundcate'>No Category Found</center>\";\r\n            }\r\n            \$(\"#categorysechtml\").html(searchcategoryhtmlappend);\r\n            addcategorycounters(counts);\r\n        }\r\n        else\r\n        {\r\n\r\n            limitcatego = 4;\r\n            if(masterredirect == \"yes\")\r\n            {\r\n                localStorage.removeItem('masterredirect');\r\n                limitcatego = 3;\r\n            }\r\n\r\n            \$.each(allcategories, function (index, value) {\r\n                index = Number(index) + Number(1);     \r\n                onloadplaycategoryget = \"\";\r\n                if(index == limitcatego)\r\n                {\r\n                    onloadplaycategoryget = \"categoryselectonload active\";\r\n                }\r\n                if(counts != \"\")\r\n                {\r\n                    onloadplaycategoryget = \"\";\r\n                }\r\n\r\n                Categoryhtmltpappend += '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 categoryselect '+onloadplaycategoryget+'\" data-toggle=\"tooltip\" title=\"'+value.category_name+'\" data-cateid=\"'+value.category_id+'\">';\r\n                Categoryhtmltpappend += '<div class=\"row cateList\">';\r\n                Categoryhtmltpappend += '<div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\" style=\"text-align: initial;\">';\r\n                Categoryhtmltpappend += '<div class=\"liveCateList\">';\r\n                Categoryhtmltpappend += '<span>'+value.category_name+'</span>';\r\n                Categoryhtmltpappend += '</div>';\r\n                Categoryhtmltpappend += '</div>';\r\n                Categoryhtmltpappend += '<div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding cateNum\">';\r\n                Categoryhtmltpappend += '<div class=\"totalcountare\" id=\"totalstreams-'+value.category_id+'\"><img class=\"ldlz\" src=\"themes/'+currentthemename+'/images/golden.svg\" style=\"width: 30%;opacity: 1; visibility: visible;\"></div>';\r\n                Categoryhtmltpappend += '</div>';\r\n                Categoryhtmltpappend += '</div>';\r\n                Categoryhtmltpappend += '</div>';\r\n            });\r\n                \r\n            \$(\"#categorysechtml\").html(Categoryhtmltpappend);\r\n            if(counts != \"\")\r\n            {\r\n                addcategorycounters(counts);\r\n            }\r\n        }\r\n\r\n        \$(\".categoryselect\").click(function(){\r\n            categoryid = \$(this).data(\"cateid\");\r\n            catename = \$(this).attr('title');\r\n            showpop = '';\r\n            if(parentalcontrololdoption == 'ON'){\r\n                if(catename != ''){\r\n                    filter = catename.toUpperCase();\r\n                    \$.each(parentalnamelock, function (index, value){\r\n                        var regex = RegExp(value.toUpperCase());\r\n                        var result = regex.test(filter)\r\n                        if(result == true){\r\n                            showpop = 'yes';\r\n                            return false;\r\n                        }else{\r\n                            showpop = 'no';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if(showpop == 'yes'){\r\n                \$('.parentallockhtml').removeClass('hide');\r\n                \$('.parentallockhtml').addClass('show');\r\n                unloackid = categoryid;\r\n                return;\r\n            }else{\r\n                showHideLoaderCateData();\r\n                \$(\".categoryselect\").removeClass(\"active\");\r\n                \$(this).addClass(\"active\");\r\n                selectedCategory = categoryid;\r\n                setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\r\n                \$('.centerSearch').hide();\r\n                \$('.livecenterSearch').hide();\r\n                \$('.liveHead span').show();\r\n                \$('.searchBar').removeAttr(\"style\");\r\n                \$('.liveInsearch').show();\r\n                \$('.liveback').show();\r\n                \$('.div6').show();\r\n                \$('.div1').attr(\"class\",\"col-sm-1 col-xs-1 col-md-1 col-lg-1 div1\");\r\n                \$('.SearchStreams').val('');\r\n            }\r\n        });\r\n        \r\n\r\n        if(selectedCategory != \"\")\r\n        {\r\n            \$(\".categoryselect[data-cateid='\" + selectedCategory +\"']\").addClass(\"active\");\r\n        } \r\n    }\r\n\r\n    // Show categories according streams count Functionaliry\r\n\r\n    function addcategorycounters(counts = \"\")\r\n    {\r\n        \$(\"#totalstreams-all\").html(counts[\"all\"]);\r\n\r\n        //Count History channels\r\n        chhistorytotals = \"0\";\r\n        watchChannelcount = localStorage.getItem(\"channelhistory\");\r\n        newwatchChannelcount = JSON.parse(watchChannelcount);\r\n        if(newwatchChannelcount != null)\r\n        {\r\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \r\n            {\r\n                chhistorytotals = newwatchChannelcount[userAnyName].length;\r\n            }\r\n        }\r\n\r\n        \$(\"#totalstreams-channels-history\").html(chhistorytotals);\r\n\r\n        //Count Favourite Channels\r\n\r\n        favouritetotals = \"0\";\r\n        favChannelcount = localStorage.getItem(\"favouritelive\");\r\n        newfavChannelcount = JSON.parse(favChannelcount);\r\n        if(newfavChannelcount != null)\r\n        {\r\n            if(typeof newfavChannelcount[userAnyName] != \"undefined\") \r\n            {\r\n                favouritetotals = newfavChannelcount[userAnyName].length;\r\n            }\r\n        }\r\n\r\n        \$(\"#totalstreams-favourite\").html(favouritetotals);\r\n        if(counts != \"\" && counts != null)\r\n        {\r\n            \$.each(counts, function (index, value) {\r\n                \$(\"#totalstreams-\"+index).html(value);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function getthesavedchannelshistoryarray()\r\n    {\r\n        //Getstored History CHannels\r\n        totalstoredhistorychannels = \"\";\r\n        watchChannelcount = localStorage.getItem(\"channelhistory\");\r\n        newwatchChannelcount = JSON.parse(watchChannelcount);\r\n         if(newwatchChannelcount != null)\r\n        {\r\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \r\n            {\r\n                totalstoredhistorychannels = newwatchChannelcount[userAnyName];\r\n            }\r\n        }\r\n\r\n        return totalstoredhistorychannels;\r\n    }\r\n    \r\n    function getthesavedfavourite()\r\n    {\r\n        //Getstored History CHannels\r\n        totalstoredfavouritechannels = \"\";\r\n        addedfavourite = localStorage.getItem(\"favouritelive\");\r\n        newaddedfavourite = JSON.parse(addedfavourite);\r\n         if(newaddedfavourite != null)\r\n        {\r\n            if(typeof newaddedfavourite[userAnyName] != \"undefined\") \r\n            {\r\n                totalstoredfavouritechannels = newaddedfavourite[userAnyName];\r\n            }\r\n        }\r\n\r\n        return totalstoredfavouritechannels;\r\n    }\r\n\r\n\r\n\r\n    function addtofav(anyname, streamid, section, action)\r\n    {\r\n\r\n    \tif(action == 'add')\r\n        {            \r\n            addfavstreamidsave = {};\r\n            watchChannelcount = localStorage.getItem(\"favouritelive\");\r\n            newfavchannelget = JSON.parse(watchChannelcount);\r\n            newfavarray = [];\r\n            if(newfavchannelget != null)\r\n            {\r\n                if(typeof newfavchannelget[anyname] != \"undefined\") \r\n                {\r\n                    newfavarray = newfavchannelget[anyname];\r\n                }\r\n            }\r\n            if(jQuery.inArray(streamid, newfavarray) == -1)\r\n            { \r\n                newfavarray.push(streamid);   \r\n            } \r\n            addfavstreamidsave[anyname] = newfavarray;\r\n\r\n            finalenewarray = {};\r\n            \$.each(newfavchannelget, function( index, value ) {\r\n                finalenewarray[index] = value;\r\n            });\r\n\r\n            if(typeof finalenewarray[anyname] != \"undefined\") \r\n            {\r\n                if(finalenewarray[anyname].length > 0)\r\n                {\r\n                    finalenewarray[anyname] = addfavstreamidsave[anyname];    \r\n                } \r\n            }\r\n            else\r\n            {\r\n                finalenewarray[anyname] = addfavstreamidsave[anyname];  ;\r\n            }\r\n            localStorage.setItem('favouritelive', JSON.stringify(finalenewarray));\r\n            if(typeof addfavstreamidsave[anyname] != \"undefined\") \r\n            {\r\n                if(addfavstreamidsave[anyname].length > 0)\r\n                {\r\n                    \$(\"#totalstreams-favourite\").html(addfavstreamidsave[anyname].length);    \r\n                } \r\n                else\r\n                {\r\n                    \$(\"#totalstreams-favourite\").html(\"0\");\r\n                }\r\n            } \r\n    \t}\r\n        else\r\n        {\r\n            addfavstreamidsave = {};\r\n            watchChannelcount = localStorage.getItem(\"favouritelive\");\r\n            newfavchannelget = JSON.parse(watchChannelcount);\r\n            newfavarray = [];\r\n            if(newfavchannelget != null)\r\n            {\r\n                if(typeof newfavchannelget[anyname] != \"undefined\") \r\n                {\r\n                    newfavarray = newfavchannelget[anyname];\r\n                }\r\n            }\r\n            if(jQuery.inArray(streamid, newfavarray) !== -1)\r\n            { \r\n                newfavarray.splice(newfavarray.indexOf(streamid), 1);\r\n            } \r\n            addfavstreamidsave[anyname] = newfavarray;\r\n\r\n            finalenewarray = {};\r\n            \$.each(newfavchannelget, function( index, value ) {\r\n                finalenewarray[index] = value;\r\n            });\r\n\r\n            if(typeof finalenewarray[anyname] != \"undefined\") \r\n            {\r\n                if(finalenewarray[anyname].length > 0)\r\n                {\r\n                    finalenewarray[anyname] = addfavstreamidsave[anyname];    \r\n                } \r\n            }\r\n            else\r\n            {\r\n                finalenewarray[anyname] = addfavstreamidsave[anyname];  ;\r\n            } \r\n\r\n            localStorage.setItem('favouritelive', JSON.stringify(finalenewarray));\r\n            if(typeof addfavstreamidsave[anyname] != \"undefined\") \r\n            {\r\n                if(addfavstreamidsave[anyname].length > 0)\r\n                {\r\n                    \$(\"#totalstreams-favourite\").html(addfavstreamidsave[anyname].length);    \r\n                } \r\n                else\r\n                {\r\n                    \$(\"#totalstreams-favourite\").html(\"0\");\r\n                }\r\n            }\r\n\r\n\r\n            if(currentSelectedCategory == \"favourite\")\r\n            {\r\n                setTimeout(function(){ filterstreamsbyid(currentSelectedCategory); }, 100);  \r\n            }\r\n        }  \r\n    }\r\n\r\n\r\n\r\n    function functiontochangethearraybysorting()\r\n    {\r\n        savedsortingval = getthesavedfavouriteforlive();\r\n        if(savedsortingval != \"\")\r\n        {\r\n            if(typeof fulldatalive != \"undefined\")\r\n            {\r\n                if(typeof fulldatalive[\"streams\"] != \"undefined\") \r\n                {\r\n                    if(fulldatalive[\"streams\"] != \"\")\r\n                    {\r\n                        if(savedsortingval == \"atoz\")\r\n                        {\r\n                            fulldatalive[\"streams\"].sort( webplayer_atozseort );  \r\n                        }\r\n                        else if(savedsortingval == \"ztoa\")\r\n                        {\r\n                            fulldatalive[\"streams\"].sort( webplayer_ztoaseort );  \r\n                        }\r\n                        else if(savedsortingval == \"numasc\")\r\n                        {\r\n                            fulldatalive[\"streams\"].sort( webplayer_channelacs );  \r\n                        }\r\n                        else if(savedsortingval == \"numdesc\")\r\n                        {\r\n                            fulldatalive[\"streams\"].sort( webplayer_channeldesc );  \r\n                        }\r\n                        else if(savedsortingval == \"recentlyadded\")\r\n                        {\r\n                            fulldatalive[\"streams\"].sort( webplayer_recentlyadded );  \r\n                        }\r\n                        else\r\n                        {\r\n                           fulldatalive[\"streams\"].sort( webplayer_channelacs ); \r\n                        }\r\n                    } \r\n                }\r\n            } \r\n        }\r\n    }\r\n\r\n    function getthesavedfavouriteforlive()\r\n    {\r\n        //Getstored History CHannels\r\n        storedsortingvalue = \"\";\r\n        addedsortvalue = localStorage.getItem(\"sortinglive\");\r\n        newaddedsortvalue = JSON.parse(addedsortvalue);\r\n         if(newaddedsortvalue != null)\r\n        {\r\n            if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \r\n            {\r\n                storedsortingvalue = newaddedsortvalue[userAnyName];\r\n            }\r\n        }\r\n\r\n        return storedsortingvalue;\r\n    }\r\n\r\n        function getthesavedgeneralsettings()\r\n        {\r\n            //Getstored History CHannels\r\n            storedsortingvalue = \"\";\r\n            addedsortvalue = localStorage.getItem(\"generalsetting\");\r\n            newaddedsortvalue = JSON.parse(addedsortvalue);\r\n             if(newaddedsortvalue != null)\r\n            {\r\n                if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \r\n                {\r\n                    storedsortingvalue = newaddedsortvalue[userAnyName];\r\n                }\r\n            }\r\n            return storedsortingvalue;\r\n        }\r\n\r\n\r\n        function getthesavedplayerselction()\r\n        {\r\n            storedplayervalue = \"\";\r\n            addedplayervalue = localStorage.getItem(\"playerselection\");\r\n            newaddedplayervalue = JSON.parse(addedplayervalue);\r\n             if(newaddedplayervalue != null)\r\n            {\r\n                if(typeof newaddedplayervalue[userAnyName] != \"undefined\") \r\n                {\r\n                    storedplayervalue = newaddedplayervalue[userAnyName];\r\n                }\r\n            }\r\n\r\n            return storedplayervalue;\r\n        }\r\n\r\n        \$('#parentalpinlock').pincodeInput({ });\r\n\r\n        \$('.cofirmlock').click(function(){\r\n            savefistpass = \$('#parentalpinlock').val();\r\n            if(savefistpass.length != 4){\r\n                swal(\"Information!\", \"Please Confirm Your 4 Digit Pin.\", \"info\");\r\n            }else if(savefistpass == saveparentalcontrolpass){\r\n                setTimeout(function(){ filterstreamsbyid(unloackid); }, 100);\r\n                \$(\".categoryselect\").removeClass(\"active\");\r\n                \$(\".categoryselect[data-cateid='\" + unloackid + \"']\").addClass(\"active\");\r\n                \$('.parentallockhtml').removeClass('show');\r\n                \$('.parentallockhtml').addClass('hide');\r\n                \$('.parental_input').find('input').val('');\r\n            }else{\r\n                swal(\"Unuccessfully!\", \"The specified password do not match.\", \"error\");\r\n            }\r\n        });\r\n\r\n        \$('.closeparentelloak').click(function(){\r\n            \$('.parentallockhtml').removeClass('show');\r\n            \$('.parentallockhtml').addClass('hide');\r\n            \$('.parental_input').find('input').val('');\r\n        });\r\n\r\n});\r\n\r\n\r\nfunction getVideoLinkAjax(\$Videolink = \"\", FailCounter = \"\")\r\n{\r\n    \$('.Loadicon').remove();\r\n    \$LiveVideoLink = \$Videolink;\r\n    if(reconnectInt !== null || reconnectInt !== undefined)\r\n    {\r\n      clearInterval(reconnectInt);\r\n    } \r\n    var player = jwplayer('liveplayer-wrapper');\r\n    // Set up the player with an HLS stream that includes timed metadata\r\n    player.setup({\r\n        \"file\": \$LiveVideoLink,\r\n        \"width\":\"100%\",\r\n        \"aspectratio\": \"16:9\"              \r\n    });\r\n    player.on('play',function(){\r\n        counter = 0;\r\n        clearInterval(reconnectInt);\r\n    })\r\n    player.on('error', function() {\r\n        var showText = 1;\r\n        var PlayerDIvSelector = \$('#liveplayer-wrapper');\r\n        PlayerDIvSelector.html('');\r\n        PlayerDIvSelector.attr('class', '');\r\n        PlayerDIvSelector.css('text-align', 'center');\r\n        PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Playback error, reconnects in 5s ('+showText+'/5)</span></div>');\r\n\r\n                \r\n        console.log('Stream connection lose reconnecting ' +showText +\" Time\");\r\n        console.log(\$(document).find('.jw-title-primary').text() + \$(document).find('.jw-title-secondary').text());\r\n        reconnectLoop(\$LiveVideoLink,FailCounter);\r\n        return false;\r\n    });\r\n}\r\n\r\nfunction reconnectLoop(Link,FailCounter)\r\n{\r\n    var counter = 0;\r\n    if(FailCounter == \"new\")\r\n    {\r\n      counter = 0;\r\n    }\r\n    reconnectInt = setInterval(function()\r\n    {\r\n        counter++;\r\n        if(counter < 5)\r\n        {\r\n            var player = jwplayer(\"liveplayer-wrapper\").setup({\r\n                \"file\": Link,\r\n                \"width\": \"100%\",\r\n                \"aspectratio\": \"16:9\"\r\n            });\r\n            player.on('play', function() {\r\n                counter = 0;\r\n                clearInterval(reconnectInt);\r\n            });\r\n            player.on('error', function(){\r\n                var showText = Number(counter)+Number(1);\r\n                var PlayerDIvSelector = \$('#liveplayer-wrapper');\r\n                PlayerDIvSelector.html('');\r\n                PlayerDIvSelector.attr('class', '');\r\n                PlayerDIvSelector.css('text-align', 'center');\r\n                PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Playback error, reconnects in 5s ('+showText+'/5)</span></div>');\r\n\r\n                console.log('Stream connection lose reconnecting ' +counter +\" Time\");\r\n                console.log(\$(document).find('.jw-title-primary').text() + \$(document).find('.jw-title-secondary').text());\r\n            })\r\n        }\r\n        else\r\n        {\r\n            clearInterval(reconnectInt);\r\n            counter = 0;\r\n            var PlayerDIvSelector = \$('#liveplayer-wrapper');\r\n            PlayerDIvSelector.html('');\r\n            PlayerDIvSelector.attr('class', '');\r\n            PlayerDIvSelector.css('text-align', 'center');\r\n            PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Sorry, this video can not be played.<br> Please try again or pick another video.</span></div>');\r\n        }\r\n      \r\n    },5000);           \r\n}\r\n\r\nfunction getVideoLinkAjax_InFlowplayer(\$Videolink = \"\")\r\n{\r\n    var timer = \"\";\r\n    initialDelay = 10;\r\n    \r\n    var errImage = new Image();\r\n    \$('#liveplayer-wrapper').remove();\r\n    \$('.video-player1').append('<div id=\"liveplayer-wrapper\" style=\"text-align: center;\"></div>');\r\n    player =  flowplayer(\"#liveplayer-wrapper\", {        \r\n        ratio: 9/16,        \r\n        splash: false,        \r\n        bgcolor: \"#000\",\r\n        autoplay: true,\r\n        live: true,\r\n        // only iframe embedding would work\r\n        // but we cannot force embedders to deploy via HTTPS only\r\n        embed: true,\r\n        // manual hls level selection\r\n        hlsQualities: [1, 3, 5, 6],\r\n        hlsjs: {\r\n            xhrSetup: function (xhr, url) {\r\n                var isPlaylist = url.lastIndexOf(\".m3u8\") === url.length - 5;\r\n\r\n                xhr.addEventListener(\"error\", function () {\r\n                    if (isPlaylist) {\r\n                        // intentionally throw Network error\r\n                        player.trigger(\"error\", [player, {code: 2}]);\r\n                    }\r\n                });\r\n                xhr.addEventListener(\"readystatechange\", function (e) {\r\n                    var xstatus = e.currentTarget.status;\r\n            \r\n                    if (isPlaylist && xhr.readyState === 4 && xstatus >= 400 && xstatus < 499) {\r\n                        // intentionally throw Video file not found error\r\n                        player.trigger(\"error\", [player, {code: 4}]);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        clip: {\r\n            sources: [\r\n            { \r\n                type: \"application/x-mpegurl\",\r\n                src:  \$Videolink,\r\n                autoplay: true,\r\n            } ]\r\n        }\r\n    }).on(\"error\", function (e, api, err) {\r\n        console.log({api, err});\r\n        \$('#liveplayer-wrapper').html('');\r\n        \$('#liveplayer-wrapper').remove();\r\n        \$('.video-player1').append('<div id=\"liveplayer-wrapper\" style=\"text-align: center;\"></div>');\r\n        \$('#liveplayer-wrapper').html('<h3 class=\"text-center cus-margin text-light\">Video not found! <br> <small>Please select another stream!!</small></h3>');\r\n    });\r\n}\r\n\r\n// Show Images on image error Functionaliry\r\n\r\nfunction noposterimage(thisvar = \"\")\r\n{\r\n    \$(\".imagesele-\" + thisvar).attr(\"src\", \"themes/\"+currentthemename+\"/images/NoPostervertical.png\");\r\n}  \r\n\r\n//Sorting Functions Start Here//\r\n\r\nfunction webplayer_atozseort( a, b ) {\r\n  if ( a.name < b.name ){\r\n    return -1;\r\n  }\r\n  if ( a.name > b.name ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\nfunction webplayer_ztoaseort( a, b ) {\r\n  if ( a.name > b.name ){\r\n    return -1;\r\n  }\r\n  if ( a.name < b.name ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\nfunction webplayer_channelacs( a, b ) {\r\n  if ( a.num < b.num ){\r\n    return -1;\r\n  }\r\n  if ( a.num > b.num ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\nfunction webplayer_channeldesc( a, b ) {\r\n  if ( a.num > b.num ){\r\n    return -1;\r\n  }\r\n  if ( a.num < b.num ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\nfunction webplayer_recentlyadded( a, b ) {\r\n  if ( a.added > b.added ){\r\n    return -1;\r\n  }\r\n  if ( a.added < b.added ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\n//Sorting Functions Ends Here//\r\n\r\nfunction showerrorcode(code = \"\",divid = \"\")\r\n{\r\n    \$(divid).html(\"\");\r\n    Swal.fire(\r\n      'Error Code '+code,\r\n      'Sorry for the Inconvenience<br>Something Went Wrong Please Contact With Provider',\r\n      'error'\r\n    ).then(function() {\r\n        window.location = \"index.php\";\r\n    });                            \r\n    return;\r\n}\r\n\r\nfunction checkisJson(str) {\r\n    try {\r\n        JSON.parse(str);\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n</script>\r\n\r\n<!---- ENds here -->\r\n\r\n<!---- Live HTML Start here -->\r\n\r\n\r\n<script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\r\n\r\n\r\n<div class=\"header_popup hide dropdown-content\"> \t\r\n    <span id=\"homeshort\"><i class=\"fa fa-home\" aria-hidden=\"true\"></i> Home</span>\r\n    <span id=\"movieshort\"><i class=\"fa fa-film\" aria-hidden=\"true\"style=\"font-weight: bold;\" ></i> Movie</span>\r\n    <span id=\"serieshort\"><i class=\"fa fa-video-camera\" aria-hidden=\"true\" style=\"font-weight: bold;\"></i> Series</span>\r\n    <span id=\"settingshort\"><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Setting</span>\r\n    <span id=\"sortshort\"><i class=\"fa fa-sort\" aria-hidden=\"true\"></i> Sort</span>\r\n    <span data-bs-toggle=\"modal\" data-bs-target=\"#seriesmodal\"><i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i> Logout</span>\r\n</div>\r\n\r\n<div class=\"sortpop hide\">\r\n    <div class=\"col-sm-12\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-4\"></div>\r\n            <div class=\"col-sm-4 sortingpopup\">\r\n                <div class=\"sort_header\">\r\n                    <img src=\"themes/";
echo $currenttheme;
echo "/images/sortbg.png\" alt=\"sorting\">\r\n                    <span>Sort According to :</span>\r\n                </div>\r\n                <div class=\"sort_body\">\r\n                    <ul>\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"de\" class=\"sortingsetval\" name=\"sorting\" value=\"default\" checked>\r\n                            <label for=\"de\">Default</label>\r\n                            <div class=\"check\"></div>\r\n                        </li>\r\n\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"ra\" class=\"sortingsetval\" name=\"sorting\" value=\"recentlyadded\">\r\n                            <label for=\"ra\">Recently Added</label>\r\n                            <div class=\"check\"><div class=\"inside\"></div></div>\r\n                        </li>\r\n\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"az\" class=\"sortingsetval\" name=\"sorting\" value=\"atoz\">\r\n                            <label for=\"az\">A-Z</label>\r\n                            <div class=\"check\"><div class=\"inside\"></div></div>\r\n                        </li>\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"za\" class=\"sortingsetval\" name=\"sorting\" value=\"ztoa\">\r\n                            <label for=\"za\">Z-A</label>\r\n                            <div class=\"check\"><div class=\"inside\"></div></div>\r\n                        </li>\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"chasc\" class=\"sortingsetval\" name=\"sorting\" value=\"numasc\">\r\n                            <label for=\"chasc\">Channel Number ASC</label>\r\n                            <div class=\"check\"><div class=\"inside\"></div></div>\r\n                        </li>\r\n                        <li class=\"sortingset\">\r\n                            <input type=\"radio\" id=\"chdesc\" class=\"sortingsetval\" name=\"sorting\" value=\"numdesc\">\r\n                            <label for=\"chdesc\">Channel Number DESC</label>\r\n                            <div class=\"check\"><div class=\"inside\"></div></div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"sort_footer\">\r\n                    <button class=\"closepopsortbtn\">CLOSE</button>&nbsp;\r\n                    <button class=\"savepopsortbtn\">SAVE</button>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-4\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"mainBody\">\r\n    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 headerMain\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">\r\n                    <div class=\"liveInBack\" style=\"text-align: center;\">\r\n                        <a class=\"nav-link text-light\" href=\"dashboard.php\" title=\"Back\">\r\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/back_arrow.png\" alt=\"Back\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\" style=\"text-align: initial;\">\r\n                    <div class=\"liveInLogo\">\r\n                        <a class=\"nav-link text-light\" href=\"dashboard.php\" title=\"IPTV Smarters-WebTV\">\r\n                            <img src=\"";
echo !empty($logovalue) ? $logovalue : "themes/" . $currenttheme . "/images/logo_home1.png";
echo "\" alt=\"IPTV Smarters-WebTV\">\r\n                        </a>\r\n                   </div>\r\n                </div>\r\n                <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">\r\n                    <div class=\"liveInName\">\r\n                        <span>Live</span>\r\n                   </div>\r\n                </div>\r\n                <div class=\"col-sm-6 col-xs-6 col-md-6 col-lg-6 padding div6\">\r\n                    <div class=\"liveInTime\">\r\n                        <span class=\"time\"></span> <span class=\"date\" style=\" font-weight: 200; \"> ";
echo date("F d, Y");
echo "</span>\r\n                   </div>\r\n                </div>\r\n                <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding div1\">\r\n                    <div class=\"liveInsearch\">\r\n                        <!-- <span class=\"searchBar\"> <img src=\"images/live_search.png\" alt=\"Settings\"> <span>\r\n                        <a class=\"nav-link text-light\" title=\"Settings\">\r\n                            <img src=\"images/menu_vertical.png\" class=\"topsetshowpop\"  alt=\"Settings\">\r\n                            <img src=\"images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"imtwo topsethidepop hide\">\r\n                        </a> -->\r\n                        <span class=\"cwalldelbtn\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"\" data-bs-original-title=\"CLEAR CHANNELS HISTORY\" style=\"display: inline;opacity: 0;\">\r\n                            <i class=\"fa fa-trash\"></i>\r\n                        </span>\r\n                        <a class=\"nav-link text-light searchBar\" title=\"Search\">\r\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/live_search.png\" alt=\"IPTV Smarters-WebTV\" class=\"im\">\r\n                        </a>\r\n                        <a class=\"nav-link text-light\" title=\"Settings\">\r\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/menu_vertical.png\" alt=\"IPTV Smarters-WebTV\" class=\"topsetshowpop shows im\">\r\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"topsethidepop imtwo hide\">\r\n                        </a>\r\n\r\n\r\n                   </div>\r\n                   <div class=\"livecenterSearch\" style=\"display: none;\">\r\n                        <img src=\"themes/";
echo $currenttheme;
echo "/images/back_arrow.png\" alt=\"searchBack\" class=\"closeSearch\">\r\n                        <img src=\"themes/";
echo $currenttheme;
echo "/images/live_search.png\" alt=\"centerSearch\" class=\"im\">\r\n                        <input type=\"search\" class=\"SearchStreams\" id=\"removestreamseach\" placeholder=\"Search Channel\">\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">\r\n                    <div class=\"liveInSet\">\r\n                        <a class=\"nav-link text-light\" title=\"Settings\">\r\n                            <img src=\"images/menu_vertical.png\" class=\"topsetshowpop\"  alt=\"Settings\">\r\n                            <img src=\"images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"imtwo topsethidepop hide\">\r\n                        </a>\r\n                    </div>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding\">\r\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n                                <div class=\"cateSearch livecateSearch\">\r\n                                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                                    <input type=\"search\" id=\"removecateseach\" placeholder=\"Search in categories\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 pop_cateScroll\" id=\"categorysechtml\">\r\n                        ";
for ($i = 0; $i <= 15; $i++) {
    echo "                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n                                <div class=\"row cateList\" style=\"padding-top: 10px !important; padding-bottom: 0px !important;\">\r\n                                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\" style=\"text-align: initial;\">\r\n                                        <div class=\"liveCateList\">\r\n                                            <span style=\" padding-left: 0px !important; \">\r\n                                                <div class=\"linear-background-cate\">\r\n                                                    <div class=\"inter-draw-cate\"></div>\r\n                                                    <div class=\"inter-crop-cate\"></div>\r\n                                                    <div class=\"inter-right--top-cate\"></div>\r\n                                                    <div class=\"inter-right--bottom-cate\"></div>\r\n                                                </div>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ";
}
echo "                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4 col-xs-4 col-md-4 col-lg-4 padding\">\r\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameMainscroll\">\r\n                    <img class=\"ldlz\" src=\"themes/";
echo $currenttheme;
echo "/images/golden.svg\" style=\"display:none; width: 30%;opacity: 1; visibility: visible;\">\r\n                        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\" id=\"streamsdatahtml\">\r\n                            <div class=\"row\" >\r\n                                ";
for ($i = 0; $i <= 15; $i++) {
    echo "                                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody onloadlive\">\r\n                                        <div class=\"row margin\">\r\n                                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\r\n                                                <div class=\"liveFrameChanName\" style=\"text-align: center; width: 100%;\">\r\n                                                    <span style=\"width: 100%;\"> \r\n                                                        <div class=\"linear-background\">\r\n                                                            <div class=\"inter-draw\"></div>\r\n                                                            <div class=\"inter-crop\"></div>\r\n                                                            <div class=\"inter-right--top\"></div>\r\n                                                            <div class=\"inter-right--bottom\"></div>\r\n                                                        </div>\r\n                                                    </span><br>\r\n                                                    <label></label>\r\n                                                </div>\r\n                                            </div>   \r\n                                        </div>\r\n                                    </div>\r\n                                ";
}
echo "                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-5 col-xs-5 col-md-5 col-lg-5 padding\" style=\" padding: 0px 14px 0px 14px !important\">\r\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveRightSideP\">\r\n                        <div class=\"row\">\r\n                            <div class=\"livePlayer video-player1\">\r\n                                <div id=\"liveplayer-wrapper\" style=\"height:inherit;\">\r\n                                    <img src=\"themes/";
echo $currenttheme;
echo "/images/playerloader.gif\" alt=\"Player\">    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveEPGMaindiv\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveEPGdiv\">\r\n                                <center class=\"notfoundepg\">Loading EPG...</center>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n</html>";

?>