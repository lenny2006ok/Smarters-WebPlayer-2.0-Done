<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 7.2
 * @ Decoder version: 1.0.4
 * @ Release: 01/09/2021
 */

$Fportallink = isset($_SESSION["selectedhost"]) && !empty($_SESSION["selectedhost"]) ? $_SESSION["selectedhost"] : "";
$bar = "/";
if (substr($Fportallink, -1) == "/") {
    $bar = "";
}
$Fportallink = $Fportallink . $bar;
$usnametoplay = isset($_SESSION["webTvplayer"]["username"]) && !empty($_SESSION["webTvplayer"]["username"]) ? $_SESSION["webTvplayer"]["username"] : "";
$passwordtoplay = isset($_SESSION["webTvplayer"]["password"]) && !empty($_SESSION["webTvplayer"]["password"]) ? $_SESSION["webTvplayer"]["password"] : "";
if (isset($_GET["action"]) && $_GET["action"] == "Msearch") {
}
echo "\n<style type=\"text/css\">\n.onloadlive .liveFrameImg { height: 50px; }\n.erroronplayer { font-size: 21px; font-weight: 600; justify-content: center; justify-items: center; justify-self: center; margin-top: 25%; margin-bottom: 25%; }\n.jwplayer.jw-flag-aspect-mode { height: inherit !important; }\n#liveplayer-wrapper h3{ font-size: 21px; font-weight: 600; justify-content: center; justify-items: center; justify-self: center; margin-top: 25%; margin-bottom: 25%;}\n\n.NowPlayingActive {\n    background: #31707e !important;\n    padding: 5px;\n}\n\n.NowPlayingActive p{\n    color: #fff !important;\n}\n</style>\n\n<!-- a Flowplayer skin -->\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/skin/skin.css\" />\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/skin/skin.min.css\"/>\n<!-- Flowplayer library -->\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/flowplayer.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowplayer/7.2.7/flowplayer.js\"></script>\n<!-- Flowplayer hlsjs engine -->\n<script src=\"https://releases.flowplayer.org/hlsjs/flowplayer.hlsjs.min.js\"></script>\n<!-- separate hlsjs plugin component -->\n<script src=\"//releases.flowplayer.org/hlsjs/flowplayer.hlsjs.light.js\"></script>\n<script src='https://content.jwplatform.com/libraries/fgbTqCCh.js'></script>\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@latest\"></script>\n\n\n\n<!-------------------------- Jquery section -------------------->\n <input type=\"hidden\" value=\"\" id=\"currentTimeContainer\">\n<script type=\"text/javascript\">\nvar reconnectInt;\n\$(document).ready(function(){\n\n\n\n    //Currenttime val check\n    var userAnyName = '";
echo $_SESSION["webTvplayer"]["anyname"];
echo "';\n    var currentTime = new Date();\n    var getHours = currentTime.getHours();\n    var minutesByhour = Number(getHours)*Number(60);\n    var extramintsabovehour = currentTime.getMinutes();\n    var totalminutes = Number(minutesByhour)+Number(extramintsabovehour);\n    var getmargintforcurrent = Number(totalminutes)*Number(8);    \n    var forepgmarker = Number(getmargintforcurrent)-Number(200);\n\n    var getDate = currentTime.getDate();\n    var getMonth = currentTime.getMonth() < 12 ? currentTime.getMonth() + 1 : 1;\n    var getFullYear = currentTime.getFullYear();\n    var getMinutes = currentTime.getMinutes();\n    var getSeconds = currentTime.getSeconds();\n    var dateDatatosent = getDate + '-' + getMonth + '-' + getFullYear + ' ' + getHours + ':' + getMinutes + \":\" + getSeconds;\n\n    var selectedtime = '12';\n    var getimeformat = getthesavedtimeformat();\n    if(getimeformat){\n        if(getimeformat != null){\n            if(getimeformat != ''){\n                selectedtime = getimeformat[0]['timeFormat'];\n            }\n        }        \n    }\n\n    var selectedepgtime = '0';\n    var getimeshift = getthesavedtimeshift();\n    if(getimeshift){\n        if(getimeshift != null){\n            if(getimeshift != ''){\n                selectedepgtime = getimeshift[0];\n            }\n        }        \n    }\n\n    \$(\"#currentTimeContainer\").val(dateDatatosent);\n\n    //ends here\n\n    function getthesavedtimeformat(){\n        storedtimevalue = \"\";\n        addedtimevalue = localStorage.getItem(\"timeformatsetting\");\n        newaddedtimevalue = JSON.parse(addedtimevalue);\n         if(newaddedtimevalue != null)\n        {\n            if(typeof newaddedtimevalue[userAnyName] != \"undefined\") \n            {\n                storedtimevalue = newaddedtimevalue[userAnyName];\n            }\n        }\n        return storedtimevalue;\n    }\n\n    function getthesavedtimeshift(){\n        storedtimevalue = \"\";\n        addedtimevalue = localStorage.getItem(\"epgsetting\");\n        newaddedtimevalue = JSON.parse(addedtimevalue);\n         if(newaddedtimevalue != null)\n        {\n            if(typeof newaddedtimevalue[userAnyName] != \"undefined\") \n            {\n                storedtimevalue = newaddedtimevalue[userAnyName];\n            }\n        }\n        return storedtimevalue;\n    }\n\n\n\n\n\n\n    var currentthemename = \$('#currentthemename').val();\n\n    masterredirect = localStorage.getItem(\"masterredirect\");    \n    \$(\"#categorysechtml\").addClass('disable');\n    \$('#streamsdatahtml').addClass('disable');\n     var anyname = '";
echo $_SESSION["webTvplayer"]["anyname"];
echo "';\n    var channelhistorystreamidsave = {};\n\tvar finalhistoryarray = {};\n    var filterchannelhistorystreamidsave = [];\n    var selectedCategory = \"\";\n    var currentPlayingStream = \"\";\n    var fulldatalive = [];\n    var counts = {};\n    var channelhistorytoshow = {};\n    var favouritetoshow = {};\n    var currentSelectedCategory = \"\";\n    var favchannelgetall = localStorage.getItem(\"favouritecatchup\");\n    var newfavchannelgetall = JSON.parse(favchannelgetall);\n    var newfavidstream = [];\n    var fulldataliveold = [];\n    var channelhistoryallow = getthesavedgeneralsettings();\n    if(channelhistoryallow){\n        if(channelhistoryallow != null){\n            if(channelhistoryallow[0]['channelHistoryAllow'] == 'true'){\n                var channelHistoryallow = channelhistoryallow[0]['channelHistoryAllow'];\n            }else if(channelhistoryallow[0]['channelHistoryAllow'] == true){\n                var channelHistoryallow = channelhistoryallow[0]['channelHistoryAllow'];\n            }\n            var channelHistoryval = Number(channelhistoryallow[0]['channelHistory']);\n        }\n    }else{\n        var channelHistoryallow = \"\";\n    }\n\n    var playerselections = getthesavedplayerselction();\n    if(playerselections){\n        if(playerselections != null){\n            var changePlayerSetting = \$.trim(playerselections[0]['livePlayer']);\n        }else{\n            var changePlayerSetting = 'JW Player (Recommended)';\n        }\n    }else{\n        var changePlayerSetting = 'JW Player (Recommended)';\n    }\n\n    //Sorting Functions data \n    getsortingvalue = getthesavedsorting();\n    \$(\".sortingset\").find('.sortingsetval').each(function( index ) {\n            perfectsortvalue = \$(this).val();\n            if(getsortingvalue == perfectsortvalue){\n                \$(this).attr('checked', true);\n            }\n    });\n\n    \$('.savepopsortbtn').click(function(){\n        \$('.sortpop').removeClass('show');\n        \$('.sortpop').addClass('hide');\n        thisvartoselected = \$(\"input:radio[class=sortingsetval]:checked\");\n            sortvalue = thisvartoselected.val();\n            sortingvaluesave = {};\n            sortingcount = localStorage.getItem(\"sortinglive\");\n            newsortingget = JSON.parse(sortingcount);\n            newsortingarray = [];\n            if(newsortingget != null)\n            {\n                if(typeof newsortingget[anyname] != \"undefined\") \n                {\n                    newsortingarray = newsortingget[anyname];\n                }\n            }\n            if(jQuery.inArray(sortvalue, newsortingarray) == -1)\n            { \n                newsortingarray.splice(newsortingarray.indexOf(sortvalue), 1);\n                newsortingarray.push(sortvalue);   \n            } \n            sortingvaluesave[anyname] = newsortingarray;\n\n            finalenewarray = {};\n            \$.each(newsortingget, function( index, value ) {\n                finalenewarray[index] = value;\n            });\n\n            if(typeof finalenewarray[anyname] != \"undefined\") \n            {\n                if(finalenewarray[anyname].length > 0)\n                {\n                    finalenewarray[anyname] = sortingvaluesave[anyname];    \n                } \n            }\n            else\n            {\n                finalenewarray[anyname] = sortingvaluesave[anyname];  ;\n            }\n\n           localStorage.setItem('sortinglive', JSON.stringify(finalenewarray));\n           functiontochangethearraybysorting();\n           if(selectedCategory != \"\")\n           {\n                setTimeout(function(){ filterstreamsbyid(selectedCategory); }, 100);\n           }\n    });\n\n    function getthesavedsorting()\n    {\n        //Getstored History CHannels\n        storedsortingvalue = \"\";\n        addedsortvalue = localStorage.getItem(\"sortinglive\");\n        newaddedsortvalue = JSON.parse(addedsortvalue);\n         if(newaddedsortvalue != null)\n        {\n            if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \n            {\n                storedsortingvalue = newaddedsortvalue[userAnyName];\n            }\n        }\n\n        return storedsortingvalue;\n    }\n    //ends here\n\n    // Get Live Categories AJAX Functionaliry\n\n    \$.ajax({\n        type: \"POST\",\n        url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\n        dataType:\"text\",\n        data:{\n            action:\"callApiRequest\",\n            subaction:\"get_live_categories\",\n            chanelhisallow:channelHistoryallow\n        }, \n        success: function (data) {\n\n            if(!checkisJson(data))\n            {\n                showerrorcode(\"102\",\".mainBody\");\n            }\n\n            if(data != \"\")\n            {\n                fulldataliveold[\"category\"] =  JSON.parse(data);\n                // cateforyhtmlemend(fulldatalive[\"category\"],\"\");\n\n                // Get Live Streams AJAX Functionaliry\n\n                \$.ajax({\n                    type: \"POST\",\n                    url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\n                    dataType:\"text\",\n                    data:{\n                        action:\"callApiRequest\",\n                        subaction:\"get_live_streams\"\n                    }, \n                    success: function (data) {\n\n                        if(!checkisJson(data))\n                        {\n                            showerrorcode(\"102\",\".mainBody\");\n                        }\n\n                        Streamshtmltpappend = \"\";\n                        ashbjdasbhj = [];\n                        if(data != \"\")\n                        {\n                            fulldatalive[\"streams\"] = JSON.parse(data);         \n                            functiontochangethearraybysorting();\n\n                            newfilteredstreams = [];\n                            categoriesidsfromstreams = [];\n                            var allcounts = 0;\n                            var catecounts = {};\n                            \$.each(fulldatalive[\"streams\"], function (index, value) {\n\n                                if(value.tv_archive == \"1\")\n                                {\n\n                                    newfilteredstreams.push(value);\n                                    categoriesidsfromstreams[value.category_id] = value.category_id;\n                                    allcounts++;\n                                    //catecounts[value.category_id] = typeof(catecounts[value.category_id] != 'undefined')?value.stream_id:catecounts[value.category_id]+\",\"+value.stream_id;\n                                    scsdfsdf = Number(catecounts[value.category_id])+Number(1);                                \n                                    if(typeof catecounts[value.category_id] === 'undefined')\n                                    {\n                                        scsdfsdf = 1;\n                                    }\n\n                                    catecounts[value.category_id] = scsdfsdf;\n                                }\n                            });\n\n\n\n                            fulldatalive[\"streams\"] = newfilteredstreams;\n\n                            newcatetory = [];\n                            \$.each(fulldataliveold[\"category\"], function (index, value) {\n                                if(value['category_name'] == \"All\")\n                                {\n                                    if(allcounts > 0)\n                                    {\n                                       newcatetory.push(value); \n                                       catecounts[\"all\"] = allcounts;\n                                    }                                    \n                                }\n                                if(value['category_name'] == \"Favourite\")\n                                {\n                                    if(allcounts > 0)\n                                    {\n                                       newcatetory.push(value); \n                                    }                                    \n                                }\n                                if(value['category_name'] == \"CHANNELS HISTORY\")\n                                {\n                                    if(allcounts > 0)\n                                    {\n                                       newcatetory.push(value); \n                                    }                                    \n                                }\n                                if(jQuery.inArray(value['category_id'], categoriesidsfromstreams) !== -1)\n                                {\n                                    newcatetory.push(value);\n                                }   \n                            });\n                            fulldatalive[\"category\"] = newcatetory;\n                            if(fulldatalive[\"category\"].length > 0){\n\n                                Streamshtmltpappend = \"\";\n                                \n                                ashbjdasbhj = [];\n                                if(fulldatalive[\"streams\"].length > 0){\n\n                                    cateforyhtmlemend(fulldatalive[\"category\"],\"\",catecounts,allcounts); \n\n                                    counts[\"all\"] = fulldatalive[\"streams\"].length;\n                                    checkcounter = 1;\n\n                                    if(newfavchannelgetall != null){\n                                        if(typeof newfavchannelgetall[userAnyName] != \"undefined\") \n                                        {\n                                            if(newfavchannelgetall[userAnyName].length > 0)\n                                            {\n                                                favidstream = newfavchannelgetall[userAnyName];\n                                            } \n                                        }\n                                    }\n\n                                    onloadcategoryid = \"\";\n                                    if(\$(\".categoryselectonload\").length > 0)\n                                    {\n                                        onloadcategoryid = \$(\".categoryselectonload\").data(\"cateid\");\n                                        selectedCategory = onloadcategoryid;\n                                    }\n                                    if(onloadcategoryid != \"\")\n                                    {\n                                        \$.each(fulldatalive[\"streams\"], function (index, value) {\n                                            if (!counts.hasOwnProperty(value.category_id)) {\n                                                counts[value.category_id] = 1;\n                                            } else {\n                                                counts[value.category_id]++;\n                                            }\n                                            if(onloadcategoryid == value.category_id)\n                                            {                         \n                                                activestreams = \"\";\n                                                if(checkcounter == 1)\n                                                {\n                                                    activestreams = \"active\";\n                                                    showHidela = \"show\";\n                                                    showHideprobar = \"flex\";\n                                                }\n                                                else{\n                                                    showHidela = \"hide\";\n                                                    showHideprobar = \"hide\";\n                                                }   \n\n                                                favbtn = '';\n                                                favactions = 'add';\n                                                oregstreamid = value.stream_id;\n                                                savedfavdata = getthesavedfavourite();\n                                                if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\n                                                { \n                                                    favbtn = 'style=\"color:red;display:block !important;\"';\n                                                    favactions = 'remove';\n                                                    oregstreamid = value.stream_id;\n                                                }\n\n\n\n                                                classofimage = 'imagesele-' + value.stream_id;\n                                                Streamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\n                                                Streamshtmltpappend+= ' <div class=\"row margin\">';\n                                                Streamshtmltpappend+= '     <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\n                                                Streamshtmltpappend+= '         <div class=\"liveFrameImg\">';\n                                                Streamshtmltpappend+= '             <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\n                                                Streamshtmltpappend+= '         </div>';\n                                                Streamshtmltpappend+= '     </div>';\n                                                Streamshtmltpappend+= '     <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\n                                                Streamshtmltpappend+= '         <div class=\"liveFrameChanName\">';\n                                                Streamshtmltpappend+= '             <span>'+value.name+'</span><br>';\n                                                Streamshtmltpappend+= '         </div>';\n                                                Streamshtmltpappend+= '     </div>';\n                                                Streamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n                                                Streamshtmltpappend+= '          <div class=\"liveFramedel\">';\n                                                Streamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn +' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\n                                                Streamshtmltpappend+= '          </div>';\n                                                Streamshtmltpappend+= '      </div>';\n                                                Streamshtmltpappend+= ' </div>';\n                                                Streamshtmltpappend+= '</div>';\n                                                checkcounter = Number(checkcounter)+Number(1);\n                                            }\n                                        });\n                                    }\n                                    else\n                                    {\n                                        \$.each(fulldatalive[\"streams\"], function (index, value) {\n                                            if (!counts.hasOwnProperty(value.category_id)) {\n                                                counts[value.category_id] = 1;\n                                            } else {\n                                                counts[value.category_id]++;\n                                            }\n                                            activestreams = \"\";\n                                            if(checkcounter == 1)\n                                            {\n                                                activestreams = \"active\";\n                                                showHidela = \"show\";\n                                                showHideprobar = \"flex\";\n                                            }\n                                            else{\n                                                showHidela = \"hide\";\n                                                showHideprobar = \"hide\";\n                                            } \n\n                                            favbtn = '';\n                                            favactions = 'add';\n                                            oregstreamid = value.stream_id;\n\n                                            savedfavdata = getthesavedfavourite();\n                                            if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\n                                            { \n                                                favbtn = 'style=\"color:red;display:block !important;\"';\n                                                favactions = 'remove';\n                                                oregstreamid = value.stream_id;\n                                            }\n\n                                            classofimage = 'imagesele-' + value.stream_id;\n                                            Streamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\n                                            Streamshtmltpappend+= ' <div class=\"row margin\">';\n                                            Streamshtmltpappend+= '     <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\n                                            Streamshtmltpappend+= '         <div class=\"liveFrameImg\">';\n                                            Streamshtmltpappend+= '             <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\n                                            Streamshtmltpappend+= '         </div>';\n                                            Streamshtmltpappend+= '     </div>';\n                                            Streamshtmltpappend+= '     <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\n                                            Streamshtmltpappend+= '         <div class=\"liveFrameChanName\">';\n                                            Streamshtmltpappend+= '             <span>'+value.name+'</span><br>';\n                                            Streamshtmltpappend+= '         </div>';\n                                            Streamshtmltpappend+= '     </div>';\n                                            Streamshtmltpappend+= '     <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n                                            Streamshtmltpappend+= '         <div class=\"liveFramedel\">';\n                                            Streamshtmltpappend+= '             <i class=\"fa fa-heart savefavchannel\" data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\n                                            Streamshtmltpappend+= '         </div>';\n                                            Streamshtmltpappend+= '     </div>';\n                                            Streamshtmltpappend+= ' </div>';\n                                            Streamshtmltpappend+= '</div>';\n                                            checkcounter = Number(checkcounter)+Number(1);\n                                        });\n                                    }\n\n                                }else\n                                {\n                                    Streamshtmltpappend = \"<center class='notfoundepg'> No Streams Found! </center>\";\n                                }\n\n                            }\n                            else{\n                                \$(\"#categorysechtml\").html(\"\");\n                                \$(\"#categorysechtml\").html(\"<center><p class='notfoundepg'>No Record Found</p></center>\");\n                                \$(\"#streamsdatahtml\").html(\"\");\n                                \$(\"#streamsdatahtml\").html(\"<center><p class='notfoundepg'>No Record Found</p></center>\");\n                                \$(\".fullcatchupage\").html(\"\");\n                                \$(\".fullcatchupage\").html(\"<center><p class='notfoundepg'>No Record Found</p></center>\");\n                            }\n\n                            \$(\"#categorysechtml\").removeClass('disable');\n                            \$('#streamsdatahtml').removeClass('disable');\n                        }\n                        //This function will add counts to cateory\n                        addcategorycounters(counts);\n\n                        if(Streamshtmltpappend){\n                            \$(\"#streamsdatahtml\").html(Streamshtmltpappend);\n                        }else{\n                            \$(\".fullcatchupage\").html(\"\");\n                            \$(\".fullcatchupage\").html(\"<center><p class='notfoundepg'>No Record Found</p></center>\");\n                        }\n\n                        onlaodstreamidforepg = \$(\".liveFrameBody.active\").data(\"streamid\");\n\n                        if(onlaodstreamidforepg){\n                            playchannesandconfigEPG(onlaodstreamidforepg);\n                        }else{\n                            \$('#liveplayer-wrapper').html(\"<center class='notfoundepg'> Stream Not Found! </center>\");\n                            \$('.liveEPGMaindiv').html('');\n                        }\n\n                        \$(\".liveFrameBody\").click(function(){\n                            \$(\".liveFrameBody\").removeClass(\"active\");\n                            \$(this).addClass(\"active\");\n                            getstreamid = \$(this).data(\"streamid\");\n                             playchannesandconfigEPG(getstreamid);\n                            \$(this).find('.liveFrameChanName label').removeClass('hide');\n                            \$(this).find('.liveFrameChanName label').addClass('show');\n                            \$(this).find('.progress').removeClass('hide');\n                            \$(this).find('.progress').addClass('flex');\n                        });\n\n                        var typingTimer;                //timer identifier\n                        var doneTypingInterval = 1000;  //time in ms (5 seconds)\n\n                        //on keyup, start the countdown\n                        \$('.SearchStreams').keyup(function(){\n                            clearTimeout(typingTimer);\n                            if (\$('.SearchStreams').val()) {\n                                typingTimer = setTimeout(doneTyping, doneTypingInterval);\n                            }\n                        });\n                        var alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\n                        var nextval = \$(\".labelclass-\"+alreatstreamactive).text();\n                        //user is \"finished typing,\" do something\n                        function doneTyping () {\n                            searchvalusis = \$(\".SearchStreams\").val();  \n                            categoryid = \$(\".categoryselect.active\").data(\"cateid\");\n                            if(\$(\".liveFrameBody.active\").length > 0)\n                            {\n                                alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\n                                nextval = \$(\".labelclass-\"+alreatstreamactive).text();\n                            }\n                            setTimeout(function(){ filterstreamsbyid(categoryid,searchvalusis,alreatstreamactive); }, 100);\n                            \$(\".labelclass-\"+alreatstreamactive).html(nextval);\n                        }\n\n                        \$('.savefavchannel').click(function(event){\n                            event.stopPropagation();\n                            favid = \$(this).data('favstreamid');\n                            favsection = \$(this).data('favsection');\n                            favaction = \$(this).data('favaction');\n                            addtofav(userAnyName, favid, favsection, favaction);\n                            if(favaction == 'add'){\n                                //\$(this).attr('data-favaction', 'remove');\n\t                            \$(this).data('favaction', 'remove');\n                                \$(this).attr('style','color:red; display:block !important;');\n                            }else{\n                                \$(this).data('favaction', 'add');\n\t                            //\$(this).attr('data-favaction', 'add');\n                                \$(this).attr('style','color:white;');\n                            }\n                        });\n                    },\n                    error: function (error) {\n                        showerrorcode(\"101\",\".mainBody\");\n                    }\n                }); \n\n            }\n                //Category Search Functionaliry\n            \n            \$('.cateSearch input').keyup(function(){\n                getcateinputvalue = \$(this).val();  \n                cateforyhtmlemend(fulldatalive[\"category\"],getcateinputvalue,counts);\n            });\n\n            document.getElementById('removecateseach').addEventListener('input', (e) => {\n                valuesearch = e.currentTarget.value;\n                if(valuesearch == \"\"){\n                    cateforyhtmlemend(fulldatalive[\"category\"],\"\",counts);\n                }\n            })\n            \n            document.getElementById('removestreamseach').addEventListener('input', (e) => {\n                valuesearch = e.currentTarget.value;\n                if(valuesearch == \"\"){\n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\n                    alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\n                    nextval = \$(\".labelclass-\"+alreatstreamactive).text();\n                    \$(\".labelclass-\"+alreatstreamactive).html(nextval);\n                }\n            })\n\n            \$('.closeSearch').click(function(){\n                \$('.SearchStreams').val('');\n                valuesearch = \$('.SearchStreams').val();\n                if(valuesearch == \"\"){\n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\n                    alreatstreamactive = \$(\".liveFrameBody.active\").data(\"streamid\");\n                    nextval = \$(\".labelclass-\"+alreatstreamactive).text();\n                    \$(\".labelclass-\"+alreatstreamactive).html(nextval);\n                }\n            })\n\n        },\n        error: function (error) {\n            showerrorcode(\"101\",\".mainBody\");\n        }\n    }); \n\n    // Show Streams all And Active Functionaliry\n\n    function filterstreamsbyid(categoryid = \"all\",searchvalue = \"\",alreatstreamactive = \"\")\n    {\n        currentSelectedCategory = categoryid; \n        insearchornot = \"\";\n        newStreamshtmltpappend = \"\";\n        checkcounter = 1;\n\n        if(searchvalue != \"\")\n        {\n            channelhistorytoshow = {};\n            favouritetoshow = {};\n        }\n\n        isspecialcategry = \"\";\n        specialinsearch = searchvalue;\n        if(categoryid == \"channels-history\")\n        {\n            isspecialcategry = categoryid;\n            categoryid = \"listbychannelhistory\";\n            searchvalue = \"\";\n        }\n        if(categoryid == \"favourite\")\n        {\n            isspecialcategry = categoryid;\n            categoryid = \"listbyfavourite\";\n            searchvalue = \"\";\n        }\n\n        \$.each(fulldatalive[\"streams\"], function (index, value) {\n            if(searchvalue != \"\")\n            {\n                insearchornot = \"yes\";\n                filter = searchvalue.toUpperCase();\n                if (value.name.toUpperCase().indexOf(filter) > -1) \n                {\n                    newStreamshtmltpappend = createhtmlandreturnstrems(categoryid,value,newStreamshtmltpappend,\"yes\",alreatstreamactive);\n                }\n            }\n            else\n            {\n                newStreamshtmltpappend = createhtmlandreturnstrems(categoryid,value,newStreamshtmltpappend);\n            }\n            \n        });\n\n        if(isspecialcategry == \"channels-history\")\n        {\n            totalstoredhistorychannels = getthesavedchannelshistoryarray();\n            if(totalstoredhistorychannels.length > 0)\n            {\n                totalstoredhistorychannels.reverse();\n                NEWCcheckcounter = 1;\n                if(specialinsearch != \"\")\n                {\n                   \$.each(totalstoredhistorychannels, function( index, storedstreamid ) \n                    {\n                        value = channelhistorytoshow[storedstreamid];\n                        filter = specialinsearch.toUpperCase();\n                        if (value.name.toUpperCase().indexOf(filter) > -1) \n                        {                            \n                            newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\n                        }\n                    }); \n                }\n                else\n                {\n                    \$.each(totalstoredhistorychannels, function( index, storedstreamid ) \n                    {\n                        value = channelhistorytoshow[storedstreamid];\n                        newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\n                    }); \n                }\n                \n            }\n            categoryid = \"channels-history\";\n        }\n\n\n        if(isspecialcategry == \"favourite\")\n        {\n            totalstoredfavourite = getthesavedfavourite();\n            if(totalstoredfavourite.length > 0)\n            {\n                totalstoredfavourite.reverse();\n                NEWCcheckcounter = 1;\n                if(specialinsearch != \"\")\n                {\n                   \$.each(totalstoredfavourite, function( index, storedstreamid ) \n                    {\n                        value = favouritetoshow[storedstreamid];\n                        filter = specialinsearch.toUpperCase();\n                        if (value.name.toUpperCase().indexOf(filter) > -1) \n                        {                            \n                            newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\n                        }\n                    }); \n                }\n                else\n                {\n                    \$.each(totalstoredfavourite, function( index, storedstreamid ) \n                    {\n                        value = favouritetoshow[storedstreamid];\n                        newStreamshtmltpappend = createhtmlandreturnstrems(\"all\",value,newStreamshtmltpappend);\n                    }); \n                }\n                \n            }\n            categoryid = \"favourite\";\n        }\n\n\n\n        if(newStreamshtmltpappend != \"\")\n        {\n            \$(\"#streamsdatahtml\").html(newStreamshtmltpappend);\n        }\n        else\n        {\n            \$(\"#streamsdatahtml\").html(\"<center class='notfoundcate'>Related No Stream Found! </center>\");\n        }\n\n        \$(\".liveFrameBody\").click(function(){\n            \$(\".liveFrameBody\").removeClass(\"active\");\n            \$(this).addClass(\"active\");\n            getstreamid = \$(this).data(\"streamid\");\n            playchannesandconfigEPG(getstreamid);\n            \$(this).find('.liveFrameChanName label').removeClass('hide');\n            \$(this).find('.liveFrameChanName label').addClass('show');\n            \$(this).find('.progress').removeClass('hide');\n            \$(this).find('.progress').addClass('flex');\n        });\n        \n        \$('.channelhisremo').click(function(event){\n            event.stopPropagation();\n            gtidst = \$(this).data('savsteamid');\n\n            watchChannelcount = localStorage.getItem(\"channelhistorycatchup\");\n            newwatchChannelcount = JSON.parse(watchChannelcount);\n            idsarray = [];\n            if(newwatchChannelcount != null)\n            {\n                if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \n                {\n                    idsarray = newwatchChannelcount[userAnyName];\n                }\n            }\n            \n                idsarray.splice(idsarray.indexOf(gtidst), 1);\n\n                channelhistorystreamidsave[userAnyName] = idsarray;\n\n                finalenewarray = {};\n                \$.each(newwatchChannelcount, function( index, value ) {\n                    finalenewarray[index] = value;\n                });\n            \n                if(typeof finalenewarray[userAnyName] != \"undefined\") \n                {\n                    if(finalenewarray[userAnyName].length > 0)\n                    {\n                        finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \n                    } \n                }\n                else\n                {\n                    finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];\n                }\n                \n                localStorage.setItem('channelhistorycatchup', JSON.stringify(finalenewarray));\n\n                if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \n                {\n                    if(channelhistorystreamidsave[userAnyName].length > 0)\n                    {\n                        \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \n                    } \n                    else\n                    {\n                        \$(\"#totalstreams-channels-history\").html(\"0\");\n                    }\n                }   \n                 \n                setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\n                //\$(\".liveFrameBody[data-streamid='\" + gtidst +\"'\").remove();\n        });\n\n        \$('.savefavchannel').click(function(event){\n            event.stopPropagation();\n            favid = \$(this).data('favstreamid');\n            favsection = \$(this).data('favsection');\n            favaction = \$(this).data('favaction');\n            addtofav(userAnyName, favid, favsection, favaction);\n            if(favaction == 'add'){\n                 \$(this).data('favaction', 'remove');\n\t            //\$(this).attr('data-favaction', 'remove');\n                \$(this).attr('style','color:red; display:block !important;');\n            }else{\n                 \$(this).data('favaction', 'add');\n\t            //\$(this).attr('data-favaction', 'add');\n                \$(this).attr('style','color:white;');\n            }\n        });\n\n        \$('.delchannelhis').click(function(){\n\n            Swal.fire({\n              title: 'Are you sure?',\n              text: \"You won't be able to revert this!\",\n              icon: 'warning',\n              showCancelButton: true,\n              confirmButtonColor: '#3085d6',\n              cancelButtonColor: '#d33',\n              confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    Swal.fire(\n                      'Deleted!',\n                      'Your data has been deleted.',\n                      'success'\n                    )\n                    channelhistorystreamidsave[userAnyName] = [];\n                    \n                    finalenewarray = {};\n                    \$.each(newwatchChannelcount, function( index, value ) {\n                        finalenewarray[index] = value;\n                    });\n                \n                    if(typeof finalenewarray[userAnyName] != \"undefined\") \n                    {\n                        if(finalenewarray[userAnyName].length > 0)\n                        {\n                            finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \n                        } \n                    }\n                    else\n                    {\n                        finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];\n                    }\n                \n                    localStorage.setItem('channelhistorycatchup', JSON.stringify(finalenewarray));\n                \n                    if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \n                    {\n                        if(channelhistorystreamidsave[userAnyName].length > 0)\n                        {\n                            \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \n                        } \n                        else\n                        {\n                            \$(\"#totalstreams-channels-history\").html(\"0\");\n                        }\n                    }   \n                \n                    setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\n                }\n            })\n        });\n    }   \n\n    function createhtmlandreturnstrems(categoryid = \"all\",value,newStreamshtmltpappend,insearch = \"\",alreatstreamactive = \"\")\n    {   \n        returndatais = \"\";\n        if(categoryid == \"all\")\n        {\n            activestreams = \"\";\n            if(checkcounter == 1)\n            {\n                activestreams = \"\";\n                showHidela = \"show\";\n                showHideprobar = \"flex\";\n            }\n            else{\n                showHidela = \"hide\";\n                showHideprobar = \"hide\";\n            } \n\n            if(insearch == \"yes\")\n            {\n                activestreams = \"\";\n                showHidela = \"hide\";\n                showHideprobar = \"hide\";\n                if(alreatstreamactive != \"\")\n                {\n                    if(alreatstreamactive == value.stream_id)\n                    {\n                        activestreams = \"\";\n                        showHidela = \"show\";\n                        showHideprobar = \"flex\";\n                    }\n                }\n            }\n\n            if(currentPlayingStream == value.stream_id)\n            {\n                activestreams = \"active\";\n            }\n\n            deletebtn = '';\n            if(currentSelectedCategory == \"channels-history\")\n            {\n                deletebtn = '<i class=\"fa fa-trash channelhisremo\" data-savsteamid=\"' + value.stream_id + '\" aria-hidden=\"true\"></i>';\n            }\n\n            favbtn = '';\n            favactions = 'add';\n            oregstreamid = value.stream_id;\n\n\n\n            savedfavdata = getthesavedfavourite();\n            if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\n            { \n                favbtn = 'style=\"color:red;display:block !important;\"';\n                favactions = 'remove';\n                oregstreamid = value.stream_id;\n            }\n\n\n\n            classofimage = 'imagesele-' + value.stream_id;\n            newStreamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" id=\"getstreamid\" data-streamid=\"'+value.stream_id+'\">';\n            newStreamshtmltpappend+= '  <div class=\"row margin\">';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFrameImg\">';\n            newStreamshtmltpappend+= '              <img src=\"'+value.stream_icon+'\" class=\"'+classofimage+'\" alt=\"image\" onerror=\"noposterimage(' + value.stream_id + ')\">';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-8 col-xs-8 col-md-8 col-lg-8 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFrameChanName\">';\n            newStreamshtmltpappend+= '              <span>'+value.name+'</span><br>';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\n            newStreamshtmltpappend+=                deletebtn;\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\n            newStreamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn+' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\" data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '  </div>';\n            newStreamshtmltpappend+= '</div>';\n            checkcounter = Number(checkcounter)+Number(1);\n        }\n        else if(categoryid == \"listbychannelhistory\")\n        {\n            watchChannelcount = localStorage.getItem(\"channelhistorycatchup\");\n            newwatchChannelcount = JSON.parse(watchChannelcount);\n            if(newwatchChannelcount != null)\n            {\n                if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \n                {\n                    chhistorytotals = newwatchChannelcount[userAnyName].length;\n                }\n            }\n            if(chhistorytotals == ''){\n                \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\n                \$('.cwalldelbtn').removeClass('delchannelhis');\n            }else{\n                \$('.cwalldelbtn').addClass('delchannelhis');\n                \$('.cwalldelbtn').attr('style','display: inline;opacity: 1;');\n            }\n\n            totalstoredhistorychannels = getthesavedchannelshistoryarray();\n\n            if(insearch == \"yes\")\n            {\n                if(jQuery.inArray(value.stream_id, totalstoredhistorychannels) != -1)\n                {                  \n                  if(alreatstreamactive == value.stream_id)\n                    {    \n                        channelhistorytoshow[value.stream_id] = value; \n                    } \n                }\n            }\n            else\n            {\n                if(jQuery.inArray(value.stream_id, totalstoredhistorychannels) != -1)\n                { \n                    channelhistorytoshow[value.stream_id] = value; \n                }\n            }\n        }\n        else if(categoryid == \"listbyfavourite\")\n        {\n            \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\n            \$('.cwalldelbtn').removeClass('delchannelhis');\n            totalstoredfavourite = getthesavedfavourite();\n            if(insearch == \"yes\")\n            {\n                if(jQuery.inArray(value.stream_id, totalstoredfavourite) != -1)\n                {                  \n                  if(alreatstreamactive == value.stream_id)\n                    {    \n                        favouritetoshow[value.stream_id] = value; \n                    } \n                }\n            }\n            else\n            {\n                if(jQuery.inArray(value.stream_id, totalstoredfavourite) != -1)\n                { \n                    favouritetoshow[value.stream_id] = value; \n                }\n            }\n        }\n        else if(categoryid == value.category_id)\n        {\n            \$('.cwalldelbtn').attr('style','display: inline;opacity: 0;');\n            \$('.cwalldelbtn').removeClass('delchannelhis');\n            \$(\".ldlz\").hide();  \n            activestreams = \"\";\n            if(checkcounter == 1)\n            {\n                activestreams = \"\";\n                showHidela = \"show\";\n                showHideprobar = \"flex\";\n            }\n            else{\n                showHidela = \"hide\";\n                showHideprobar = \"hide\";\n            }\n\n            if(insearch == \"yes\")\n            {\n                activestreams = \"\";\n                showHidela = \"hide\";\n                showHideprobar = \"hide\";\n                if(alreatstreamactive != \"\")\n                {\n                    if(alreatstreamactive == value.stream_id)\n                    {\n                        activestreams = \"\";\n                        showHidela = \"show\";\n                        showHideprobar = \"flex\";\n                    }\n                }\n            }\n\n            if(currentPlayingStream == value.stream_id)\n            {\n                activestreams = \"active\";\n            }\n\n             deletebtn = '';\n            if(currentSelectedCategory == \"channels-history\")\n            {\n                deletebtn = '<i class=\"fa fa-trash channelhisremo\" data-savsteamid=\"' + value.stream_id + '\" aria-hidden=\"true\"></i>';\n            }\n\n            favbtn = '';\n            favactions = 'add';\n            oregstreamid = value.stream_id;\n\n\n            savedfavdata = getthesavedfavourite();\n            if(jQuery.inArray(value.stream_id, savedfavdata) != -1)\n            { \n                favbtn = 'style=\"color:red;display:block !important;\"';\n                favactions = 'remove';\n                oregstreamid = value.stream_id;\n            }\n\n            classofimage = 'imagesele-' + value.stream_id;\n            newStreamshtmltpappend+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody '+activestreams+'\" data-streamid=\"'+value.stream_id+'\">';\n            newStreamshtmltpappend+= '  <div class=\"row margin\">';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFrameImg\">';\n            newStreamshtmltpappend+= '              <img src=\"'+value.stream_icon+'\" alt=\"image\" class=\"'+classofimage+'\" onerror=\"noposterimage(' + value.stream_id + ')\">';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFrameChanName\">';\n            newStreamshtmltpappend+= '              <span>'+value.name+'</span><br>';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n            newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\n            newStreamshtmltpappend+= '              <i class=\"fa fa-heart savefavchannel\" '+favbtn+' data-favsection=\"live\" data-favstreamid=\"'+ value.stream_id +'\"  data-favaction=\"'+favactions+'\" aria-hidden=\"true\"></i>';\n            newStreamshtmltpappend+= '          </div>';\n            newStreamshtmltpappend+= '      </div>';\n            // newStreamshtmltpappend+= '      <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">';\n            // newStreamshtmltpappend+= '          <div class=\"liveFramedel\">';\n            // newStreamshtmltpappend+=                deletebtn + 'SinghSaab2';\n            // newStreamshtmltpappend+= '          </div>';\n            // newStreamshtmltpappend+= '      </div>';\n            newStreamshtmltpappend+= '  </div>';\n            newStreamshtmltpappend+= '</div>';\n            checkcounter = Number(checkcounter)+Number(1);\n        }\n        returndatais = newStreamshtmltpappend;\n        return returndatais;\n    }\n\n    // Show Streams Loader when change category Functionaliry\n\n    function showHideLoaderCateData(){\n        loaderhtml = '';\n        for(var i = 1; i < 20; i++)\n        {\n            loaderhtml+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody onloadlive\">';\n            loaderhtml+= '<div class=\"row margin\">';\n            loaderhtml+= '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">';\n            loaderhtml+= '<div class=\"liveFrameChanName\" style=\"text-align: center; width: 100%;\">';\n            loaderhtml+= '<span style=\"width: 100%;\">';\n            loaderhtml+= '<div class=\"linear-background\">';\n            loaderhtml+= '<div class=\"inter-draw\"></div>';\n            loaderhtml+= '<div class=\"inter-crop\"></div>';\n            loaderhtml+= '<div class=\"inter-right--top\"></div>';\n            loaderhtml+= '<div class=\"inter-right--bottom\"></div>';\n            loaderhtml+= '</div>';\n            loaderhtml+= '</div>';\n            loaderhtml+= '</div>';\n            loaderhtml+= '</div>';\n        }\n        \$(\"#streamsdatahtml\").html(loaderhtml);\n    }\n\n    // Show EPG Loader when change Streams Functionaliry\n\n    function showHideLoaderEPGData(){\n        loaderhtml = '';\n        loaderhtml = '<center class=\"notfoundepg\">Loading EPG...</center>';\n        \$(\".liveEPGdiv\").html(loaderhtml);\n    }\n\n    // Get EPG and Player Functionaliry\n\n    function playchannesandconfigEPG(streamId)\n    {\n\n        watchChannelcount = localStorage.getItem(\"channelhistorycatchup\");\n        newwatchChannelcount = JSON.parse(watchChannelcount);\n        idsarray = [];\n        if(newwatchChannelcount != null)\n        {\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \n            {\n                idsarray = newwatchChannelcount[userAnyName];\n            }\n        }\n\n\n        if(jQuery.inArray(streamId, idsarray) == -1)\n        { \n            idsarray.push(streamId);   \n        }\n        else\n        {\n            idsarray.splice(idsarray.indexOf(streamId), 1);\n            idsarray.push(streamId); \n        }\n        channelhistorystreamidsave[userAnyName] = idsarray;\n        if(channelHistoryval){\n            if(channelhistorystreamidsave[userAnyName].length > channelHistoryval)\n            {\n                channelhistorystreamidsave[userAnyName].shift();\n            }\n        }else{\n            if(channelhistorystreamidsave[userAnyName].length > 10)\n            {\n                channelhistorystreamidsave[userAnyName].shift();\n            }\n        }\n        \n\n        finalenewarray = {};\n        \$.each(newwatchChannelcount, function( index, value ) {\n            finalenewarray[index] = value;\n        });\n\n        if(typeof finalenewarray[userAnyName] != \"undefined\") \n        {\n            if(finalenewarray[userAnyName].length > 0)\n            {\n                finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];    \n            } \n        }\n        else\n        {\n            finalenewarray[userAnyName] = channelhistorystreamidsave[userAnyName];  ;\n        }\n\n        localStorage.setItem('channelhistorycatchup', JSON.stringify(finalenewarray));\n\n        if(typeof channelhistorystreamidsave[userAnyName] != \"undefined\") \n        {\n            if(channelhistorystreamidsave[userAnyName].length > 0)\n            {\n                \$(\"#totalstreams-channels-history\").html(channelhistorystreamidsave[userAnyName].length);    \n            } \n        }         \n        //Contiunue History Ends here\n\n        currentPlayingStream = streamId;\n        /*playlinkis = \"";
echo $Fportallink . "live/" . $usnametoplay . "/" . $passwordtoplay . "/";
echo "\"+streamId+\".m3u8\";\n\n        \$('#liveplayer-wrapper').html('');\n        if(changePlayerSetting == 'JW Player (Recommended)'){\n            getVideoLinkAjax(playlinkis);\n        }else{\n            getVideoLinkAjax_InFlowplayer(playlinkis);\n        }*/\n\n        showHideLoaderEPGData();\n        \$.ajax({\n            type: \"POST\",\n            url: \"themes/\"+currentthemename+\"/includes/requesthandler.php\",\n            dataType:\"text\",\n            data:{\n                action:\"GetCaptchaEPGByStreamid\",\n                StreamId:streamId,\n                currentTime:\$('#currentTimeContainer').val(),\n                currentthemename:currentthemename,\n                hostURL : \"";
echo $Fportallink;
echo "\",\n                tformat:selectedtime,\n                etimes:selectedepgtime\n\n            }, \n            success: function (data) {\n                \$('.liveEPGdiv').html(data);\n                if(\$(\".firstepgis-\"+streamId).length > 0)\n                {\n                    titleis = \$(\".firstepgis-\"+streamId).data(\"titleis\");\n                    \$(\".labelclass-\"+streamId).html(titleis);\n                    \$(\".labelclass-\"+streamId).removeClass(\"hide\");\n                }else{\n                    \$(\".labelclass-\"+streamId).html('No Program Found');\n                }\n\n                 \$( document ).on(\"click\", \".placycatchup\", function(){\n                    \$(\".NowPlayingActive\").removeClass(\"NowPlayingActive\");\n                    \n                    var timedifference =  \$(this).data(\"timediff\"); \n                    var cpcounter =  \$(this).data(\"cpcounter\"); \n\n\n                    \$(\".cpparent-\"+cpcounter).addClass(\"NowPlayingActive\");\n                    var StartTime =  \$(this).data(\"starttime\"); \n                    var StreamId =  \$(this).data(\"streamid\"); \n                    playlinkis = \"";
echo $Fportallink . "timeshift/" . $usnametoplay . "/" . $passwordtoplay;
echo "/\"+timedifference+\"/\"+StartTime+\"/\"+StreamId+\".m3u8\";\n                    //  \$('#liveplayer-wrapper').html('');\n                    if(changePlayerSetting == 'JW Player (Recommended)'){\n                        getVideoLinkAjax(playlinkis);\n                    }else{\n                        getVideoLinkAjax_InFlowplayer(playlinkis);\n                    }\n                });\n            },\n            error: function (error) {\n                showerrorcode(\"101\",\".mainBody\");\n            }\n        }); \n    }\n\n    // Categories show and show hide Categories Search according Functionaliry\n\n    function cateforyhtmlemend(allcategories = \"\", searchtext = \"\",counts = \"\",allcounts = \"\")\n    {\n        alreadyselected = \"\";\n        if(\$(\".categoryselect.active\").length > 0)\n        {\n            alreadyselected = \$(\".categoryselect.active\").data(\"cateid\");\n        }\n\n        Categoryhtmltpappend = \"\";\n        if(searchtext != \"\")\n        {\n            searchcategoryhtmlappend = Categoryhtmltpappend;\n            filter = searchtext.toUpperCase();\n            \$.each(allcategories, function (index, value) {\n                if (value.category_name.toUpperCase().indexOf(filter) > -1) \n                {\n                    index = Number(index) + Number(1);\n                    searchcategoryhtmlappend += '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 categoryselect\" data-toggle=\"tooltip\" title=\"'+value.category_name+'\" data-cateid=\"'+value.category_id+'\">';\n                    searchcategoryhtmlappend += '<div class=\"row cateList\">';\n                    searchcategoryhtmlappend += '<div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\" style=\"text-align: initial;\">';\n                    searchcategoryhtmlappend += '<div class=\"liveCateList\">';\n                    searchcategoryhtmlappend += '<span>'+value.category_name+'</span>';\n                    searchcategoryhtmlappend += '</div>';\n                    searchcategoryhtmlappend += '</div>';\n                    searchcategoryhtmlappend += '<div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding cateNum\">';\n                    searchcategoryhtmlappend += '<div class=\"totalcountare\" id=\"totalstreams-'+value.category_id+'\"><img class=\"ldlz\" src=\"themes/'+currentthemename+'/images/golden.svg\" style=\"width: 30%;opacity: 1; visibility: visible;\"></div>';\n                    searchcategoryhtmlappend += '</div>';\n                    searchcategoryhtmlappend += '</div>';\n                    searchcategoryhtmlappend += '</div>';\n                }\n            });\n            if(searchcategoryhtmlappend == \"\")\n            {\n                searchcategoryhtmlappend = \"<center class='notfoundcate'>No Category Found</center>\";\n            }\n            \$(\"#categorysechtml\").html(searchcategoryhtmlappend);\n            addcategorycounters(counts);\n        }\n        else\n        {\n\n            limitcatego = 4;\n            if(masterredirect == \"yes\")\n            {\n                localStorage.removeItem('masterredirect');\n                limitcatego = 3;\n            }\n\n            \$.each(allcategories, function (index, value) {\n                index = Number(index) + Number(1);     \n                onloadplaycategoryget = \"\";\n                if(index == limitcatego)\n                {\n                    onloadplaycategoryget = \"categoryselectonload active\";\n                }\n                // if(counts != \"\")\n                // {\n                //     onloadplaycategoryget = \"\";\n                // }\n\n                Categoryhtmltpappend += '<div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 categoryselect '+onloadplaycategoryget+'\" data-toggle=\"tooltip\" title=\"'+value.category_name+'\" data-cateid=\"'+value.category_id+'\">';\n                Categoryhtmltpappend += '<div class=\"row cateList\">';\n                Categoryhtmltpappend += '<div class=\"col-sm-9 col-xs-9 col-md-9 col-lg-9 padding\" style=\"text-align: initial;\">';\n                Categoryhtmltpappend += '<div class=\"liveCateList\">';\n                Categoryhtmltpappend += '<span>'+value.category_name+'</span>';\n                Categoryhtmltpappend += '</div>';\n                Categoryhtmltpappend += '</div>';\n                Categoryhtmltpappend += '<div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding cateNum\">';\n                Categoryhtmltpappend += '<div class=\"totalcountare\" id=\"totalstreams-'+value.category_id+'\"><img class=\"ldlz\" src=\"themes/'+currentthemename+'/images/golden.svg\" style=\"width: 30%;opacity: 1; visibility: visible;\"></div>';\n                Categoryhtmltpappend += '</div>';\n                Categoryhtmltpappend += '</div>';\n                Categoryhtmltpappend += '</div>';\n            });\n                \n            \$(\"#categorysechtml\").html(Categoryhtmltpappend);\n            if(counts != \"\")\n            {\n                addcategorycounters(counts);\n            }\n        }\n\n        \$(\".categoryselect\").click(function(){\n            showHideLoaderCateData();\n                \$(\".categoryselect\").removeClass(\"active\");\n                \$(this).addClass(\"active\");\n            categoryid = \$(this).data(\"cateid\");\n            selectedCategory = categoryid;\n            setTimeout(function(){ filterstreamsbyid(categoryid); }, 100);\n            \$('.centerSearch').hide();\n            \$('.livecenterSearch').hide();\n            \$('.liveHead span').show();\n            \$('.searchBar').removeAttr(\"style\");\n            \$('.liveInsearch').show();\n            \$('.liveback').show();\n            \$('.div6').show();\n            \$('.div1').attr(\"class\",\"col-sm-1 col-xs-1 col-md-1 col-lg-1 div1\");\n            \$('.SearchStreams').val('');\n        });\n        \n\n        if(selectedCategory != \"\")\n        {\n            \$(\".categoryselect[data-cateid='\" + selectedCategory +\"']\").addClass(\"active\");\n        } \n    }\n\n    // Show categories according streams count Functionaliry\n\n    function addcategorycounters(counts = \"\")\n    {\n        \$(\"#totalstreams-all\").html(counts[\"all\"]);\n\n        //Count History channels\n        chhistorytotals = \"0\";\n        watchChannelcount = localStorage.getItem(\"channelhistorycatchup\");\n        newwatchChannelcount = JSON.parse(watchChannelcount);\n        if(newwatchChannelcount != null)\n        {\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \n            {\n                chhistorytotals = newwatchChannelcount[userAnyName].length;\n            }\n        }\n\n        \$(\"#totalstreams-channels-history\").html(chhistorytotals);\n\n        //Count Favourite Channels\n\n        favouritetotals = \"0\";\n        favChannelcount = localStorage.getItem(\"favouritecatchup\");\n        newfavChannelcount = JSON.parse(favChannelcount);\n        if(newfavChannelcount != null)\n        {\n            if(typeof newfavChannelcount[userAnyName] != \"undefined\") \n            {\n                favouritetotals = newfavChannelcount[userAnyName].length;\n            }\n        }\n\n        \$(\"#totalstreams-favourite\").html(favouritetotals);\n        if(counts != \"\" && counts != null)\n        {\n            \$.each(counts, function (index, value) {\n                \$(\"#totalstreams-\"+index).html(value);\n            });\n        }\n    }\n\n\n\n    function getthesavedchannelshistoryarray()\n    {\n        //Getstored History CHannels\n        totalstoredhistorychannels = \"\";\n        watchChannelcount = localStorage.getItem(\"channelhistorycatchup\");\n        newwatchChannelcount = JSON.parse(watchChannelcount);\n         if(newwatchChannelcount != null)\n        {\n            if(typeof newwatchChannelcount[userAnyName] != \"undefined\") \n            {\n                totalstoredhistorychannels = newwatchChannelcount[userAnyName];\n            }\n        }\n\n        return totalstoredhistorychannels;\n    }\n    \n    function getthesavedfavourite()\n    {\n        //Getstored History CHannels\n        totalstoredfavouritechannels = \"\";\n        addedfavourite = localStorage.getItem(\"favouritecatchup\");\n        newaddedfavourite = JSON.parse(addedfavourite);\n         if(newaddedfavourite != null)\n        {\n            if(typeof newaddedfavourite[userAnyName] != \"undefined\") \n            {\n                totalstoredfavouritechannels = newaddedfavourite[userAnyName];\n            }\n        }\n\n        return totalstoredfavouritechannels;\n    }\n\n\n\n    function addtofav(anyname, streamid, section, action)\n    {\n\n    \tif(action == 'add')\n        {            \n            addfavstreamidsave = {};\n            watchChannelcount = localStorage.getItem(\"favouritecatchup\");\n            newfavchannelget = JSON.parse(watchChannelcount);\n            newfavarray = [];\n            if(newfavchannelget != null)\n            {\n                if(typeof newfavchannelget[anyname] != \"undefined\") \n                {\n                    newfavarray = newfavchannelget[anyname];\n                }\n            }\n            if(jQuery.inArray(streamid, newfavarray) == -1)\n            { \n                newfavarray.push(streamid);   \n            } \n            addfavstreamidsave[anyname] = newfavarray;\n\n            finalenewarray = {};\n            \$.each(newfavchannelget, function( index, value ) {\n                finalenewarray[index] = value;\n            });\n\n            if(typeof finalenewarray[anyname] != \"undefined\") \n            {\n                if(finalenewarray[anyname].length > 0)\n                {\n                    finalenewarray[anyname] = addfavstreamidsave[anyname];    \n                } \n            }\n            else\n            {\n                finalenewarray[anyname] = addfavstreamidsave[anyname];  ;\n            }\n            localStorage.setItem('favouritecatchup', JSON.stringify(finalenewarray));\n            if(typeof addfavstreamidsave[anyname] != \"undefined\") \n            {\n                if(addfavstreamidsave[anyname].length > 0)\n                {\n                    \$(\"#totalstreams-favourite\").html(addfavstreamidsave[anyname].length);    \n                } \n                else\n                {\n                    \$(\"#totalstreams-favourite\").html(\"0\");\n                }\n            } \n    \t}\n        else\n        {\n            addfavstreamidsave = {};\n            watchChannelcount = localStorage.getItem(\"favouritecatchup\");\n            newfavchannelget = JSON.parse(watchChannelcount);\n            newfavarray = [];\n            if(newfavchannelget != null)\n            {\n                if(typeof newfavchannelget[anyname] != \"undefined\") \n                {\n                    newfavarray = newfavchannelget[anyname];\n                }\n            }\n            if(jQuery.inArray(streamid, newfavarray) !== -1)\n            { \n                newfavarray.splice(newfavarray.indexOf(streamid), 1);\n            } \n            addfavstreamidsave[anyname] = newfavarray;\n\n            finalenewarray = {};\n            \$.each(newfavchannelget, function( index, value ) {\n                finalenewarray[index] = value;\n            });\n\n            if(typeof finalenewarray[anyname] != \"undefined\") \n            {\n                if(finalenewarray[anyname].length > 0)\n                {\n                    finalenewarray[anyname] = addfavstreamidsave[anyname];    \n                } \n            }\n            else\n            {\n                finalenewarray[anyname] = addfavstreamidsave[anyname];  ;\n            } \n\n            localStorage.setItem('favouritecatchup', JSON.stringify(finalenewarray));\n            if(typeof addfavstreamidsave[anyname] != \"undefined\") \n            {\n                if(addfavstreamidsave[anyname].length > 0)\n                {\n                    \$(\"#totalstreams-favourite\").html(addfavstreamidsave[anyname].length);    \n                } \n                else\n                {\n                    \$(\"#totalstreams-favourite\").html(\"0\");\n                }\n            }\n\n\n            if(currentSelectedCategory == \"favourite\")\n            {\n                setTimeout(function(){ filterstreamsbyid(currentSelectedCategory); }, 100);  \n            }\n        }  \n    }\n\n\n\n    function functiontochangethearraybysorting()\n    {\n        savedsortingval = getthesavedfavouriteforlive();\n        if(savedsortingval != \"\")\n        {\n            if(typeof fulldatalive != \"undefined\")\n            {\n                if(typeof fulldatalive[\"streams\"] != \"undefined\") \n                {\n                    if(fulldatalive[\"streams\"] != \"\")\n                    {\n                        if(savedsortingval == \"atoz\")\n                        {\n                            fulldatalive[\"streams\"].sort( webplayer_atozseort );  \n                        }\n                        else if(savedsortingval == \"ztoa\")\n                        {\n                            fulldatalive[\"streams\"].sort( webplayer_ztoaseort );  \n                        }\n                        else if(savedsortingval == \"numasc\")\n                        {\n                            fulldatalive[\"streams\"].sort( webplayer_channelacs );  \n                        }\n                        else if(savedsortingval == \"numdesc\")\n                        {\n                            fulldatalive[\"streams\"].sort( webplayer_channeldesc );  \n                        }\n                        else if(savedsortingval == \"recentlyadded\")\n                        {\n                            fulldatalive[\"streams\"].sort( webplayer_recentlyadded );  \n                        }\n                        else\n                        {\n                           fulldatalive[\"streams\"].sort( webplayer_channelacs ); \n                        }\n                    } \n                }\n            } \n        }\n    }\n\n    function getthesavedfavouriteforlive()\n    {\n        //Getstored History CHannels\n        storedsortingvalue = \"\";\n        addedsortvalue = localStorage.getItem(\"sortinglive\");\n        newaddedsortvalue = JSON.parse(addedsortvalue);\n         if(newaddedsortvalue != null)\n        {\n            if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \n            {\n                storedsortingvalue = newaddedsortvalue[userAnyName];\n            }\n        }\n\n        return storedsortingvalue;\n    }\n\n    function getthesavedgeneralsettings()\n    {\n            //Getstored History CHannels\n            storedsortingvalue = \"\";\n            addedsortvalue = localStorage.getItem(\"generalsetting\");\n            newaddedsortvalue = JSON.parse(addedsortvalue);\n             if(newaddedsortvalue != null)\n            {\n                if(typeof newaddedsortvalue[userAnyName] != \"undefined\") \n                {\n                    storedsortingvalue = newaddedsortvalue[userAnyName];\n                }\n            }\n            return storedsortingvalue;\n    }\n\n\n    function getthesavedplayerselction()\n    {\n            storedplayervalue = \"\";\n            addedplayervalue = localStorage.getItem(\"playerselection\");\n            newaddedplayervalue = JSON.parse(addedplayervalue);\n             if(newaddedplayervalue != null)\n            {\n                if(typeof newaddedplayervalue[userAnyName] != \"undefined\") \n                {\n                    storedplayervalue = newaddedplayervalue[userAnyName];\n                }\n            }\n\n            return storedplayervalue;\n    }\n\n});\n\n\n\n\n\nfunction getVideoLinkAjax(\$Videolink = \"\", FailCounter = \"\")\n{\n    \$('.Loadicon').remove();\n    \$LiveVideoLink = \$Videolink;\n    if(reconnectInt !== null || reconnectInt !== undefined)\n    {\n      clearInterval(reconnectInt);\n    } \n    var player = jwplayer('liveplayer-wrapper');\n    // Set up the player with an HLS stream that includes timed metadata\n    player.setup({\n        \"file\": \$LiveVideoLink,\n        \"width\":\"100%\",\n        \"aspectratio\": \"16:9\"              \n    });\n    player.on('play',function(){\n        counter = 0;\n        clearInterval(reconnectInt);\n    })\n    player.on('error', function() {\n        var showText = 1;\n        var PlayerDIvSelector = \$('#liveplayer-wrapper');\n        PlayerDIvSelector.html('');\n        PlayerDIvSelector.attr('class', '');\n        PlayerDIvSelector.css('text-align', 'center');\n        PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Playback error, reconnects in 5s ('+showText+'/5)</span></div>');\n\n                \n        console.log('Stream connection lose reconnecting ' +showText +\" Time\");\n        console.log(\$(document).find('.jw-title-primary').text() + \$(document).find('.jw-title-secondary').text());\n        reconnectLoop(\$LiveVideoLink,FailCounter);\n        return false;\n    });\n}\n\nfunction reconnectLoop(Link,FailCounter)\n{\n    var counter = 0;\n    if(FailCounter == \"new\")\n    {\n      counter = 0;\n    }\n    reconnectInt = setInterval(function()\n    {\n        counter++;\n        if(counter < 5)\n        {\n            var player = jwplayer(\"liveplayer-wrapper\").setup({\n                \"file\": Link,\n                \"width\": \"100%\",\n                \"aspectratio\": \"16:9\"\n            });\n            player.on('play', function() {\n                counter = 0;\n                clearInterval(reconnectInt);\n            });\n            player.on('error', function(){\n                var showText = Number(counter)+Number(1);\n                var PlayerDIvSelector = \$('#liveplayer-wrapper');\n                PlayerDIvSelector.html('');\n                PlayerDIvSelector.attr('class', '');\n                PlayerDIvSelector.css('text-align', 'center');\n                PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Playback error, reconnects in 5s ('+showText+'/5)</span></div>');\n\n                console.log('Stream connection lose reconnecting ' +counter +\" Time\");\n                console.log(\$(document).find('.jw-title-primary').text() + \$(document).find('.jw-title-secondary').text());\n            })\n        }\n        else\n        {\n            clearInterval(reconnectInt);\n            counter = 0;\n            var PlayerDIvSelector = \$('#liveplayer-wrapper');\n            PlayerDIvSelector.html('');\n            PlayerDIvSelector.attr('class', '');\n            PlayerDIvSelector.css('text-align', 'center');\n            PlayerDIvSelector.html('<div class=\"erroronplayer\"><span>Sorry, this video can not be played.<br> Please try again or pick another video.</span></div>');\n        }\n      \n    },5000);           \n}\n\nfunction getVideoLinkAjax_InFlowplayer(\$Videolink = \"\")\n{\n    var timer = \"\";\n    initialDelay = 10;\n    \n    var errImage = new Image();\n    \$('#liveplayer-wrapper').remove();\n    \$('.video-player1').append('<div id=\"liveplayer-wrapper\" style=\"text-align: center;\"></div>');\n    player =  flowplayer(\"#liveplayer-wrapper\", {        \n        ratio: 9/16,        \n        splash: false,        \n        bgcolor: \"#000\",\n        autoplay: true,\n        live: true,\n        // only iframe embedding would work\n        // but we cannot force embedders to deploy via HTTPS only\n        embed: true,\n        // manual hls level selection\n        hlsQualities: [1, 3, 5, 6],\n        hlsjs: {\n            xhrSetup: function (xhr, url) {\n                var isPlaylist = url.lastIndexOf(\".m3u8\") === url.length - 5;\n\n                xhr.addEventListener(\"error\", function () {\n                    if (isPlaylist) {\n                        // intentionally throw Network error\n                        player.trigger(\"error\", [player, {code: 2}]);\n                    }\n                });\n                xhr.addEventListener(\"readystatechange\", function (e) {\n                    var xstatus = e.currentTarget.status;\n            \n                    if (isPlaylist && xhr.readyState === 4 && xstatus >= 400 && xstatus < 499) {\n                        // intentionally throw Video file not found error\n                        player.trigger(\"error\", [player, {code: 4}]);\n                    }\n                });\n            }\n        },\n        clip: {\n            sources: [\n            { \n                type: \"application/x-mpegurl\",\n                src:  \$Videolink,\n                autoplay: true,\n            } ]\n        }\n    }).on(\"error\", function (e, api, err) {\n        console.log({api, err});\n        \$('#liveplayer-wrapper').html('');\n        \$('#liveplayer-wrapper').remove();\n        \$('.video-player1').append('<div id=\"liveplayer-wrapper\" style=\"text-align: center;\"></div>');\n        \$('#liveplayer-wrapper').html('<h3 class=\"text-center cus-margin text-light\">Video not found! <br> <small>Please select another stream!!</small></h3>');\n    });\n}\n\n// Show Images on image error Functionaliry\n\nfunction noposterimage(thisvar = \"\")\n{\n    \$(\".imagesele-\" + thisvar).attr(\"src\", \"themes/\"+currentthemename+\"/images/NoPostervertical.png\");\n}  \n\n\n\n\n\n\n//Sorting Functions Start Here//\n\nfunction webplayer_atozseort( a, b ) {\n  if ( a.name < b.name ){\n    return -1;\n  }\n  if ( a.name > b.name ){\n    return 1;\n  }\n  return 0;\n}\nfunction webplayer_ztoaseort( a, b ) {\n  if ( a.name > b.name ){\n    return -1;\n  }\n  if ( a.name < b.name ){\n    return 1;\n  }\n  return 0;\n}\nfunction webplayer_channelacs( a, b ) {\n  if ( a.num < b.num ){\n    return -1;\n  }\n  if ( a.num > b.num ){\n    return 1;\n  }\n  return 0;\n}\nfunction webplayer_channeldesc( a, b ) {\n  if ( a.num > b.num ){\n    return -1;\n  }\n  if ( a.num < b.num ){\n    return 1;\n  }\n  return 0;\n}\nfunction webplayer_recentlyadded( a, b ) {\n  if ( a.added > b.added ){\n    return -1;\n  }\n  if ( a.added < b.added ){\n    return 1;\n  }\n  return 0;\n}\n\n//Sorting Functions Ends Here//\n\nfunction showerrorcode(code = \"\",divid = \"\"){\n    \$(divid).html(\"\");\n    Swal.fire(\n      'Error Code '+code,\n      'Sorry for the Inconvenience<br>Something Went Wrong Please Contact With Provider',\n      'error'\n    ).then(function() {\n        window.location = \"index.php\";\n    });                            \n    return;\n}\n\nfunction checkisJson(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\n</script>\n\n<!---- ENds here -->\n\n<!---- Live HTML Start here -->\n\n<div class=\"sortpop hide\">\n    <div class=\"col-sm-12\">\n        <div class=\"row\">\n            <div class=\"col-sm-4\"></div>\n            <div class=\"col-sm-4 sortingpopup\">\n                <div class=\"sort_header\">\n                    <img src=\"themes/";
echo $currenttheme;
echo "/images/sortbg.png\" alt=\"sorting\">\n                    <span>Sort According to :</span>\n                </div>\n                <div class=\"sort_body\">\n                    <ul>\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"de\" class=\"sortingsetval\" name=\"sorting\" value=\"default\" checked>\n                            <label for=\"de\">Default</label>\n                            <div class=\"check\"></div>\n                        </li>\n\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"ra\" class=\"sortingsetval\" name=\"sorting\" value=\"recentlyadded\">\n                            <label for=\"ra\">Recently Added</label>\n                            <div class=\"check\"><div class=\"inside\"></div></div>\n                        </li>\n\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"az\" class=\"sortingsetval\" name=\"sorting\" value=\"atoz\">\n                            <label for=\"az\">A-Z</label>\n                            <div class=\"check\"><div class=\"inside\"></div></div>\n                        </li>\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"za\" class=\"sortingsetval\" name=\"sorting\" value=\"ztoa\">\n                            <label for=\"za\">Z-A</label>\n                            <div class=\"check\"><div class=\"inside\"></div></div>\n                        </li>\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"chasc\" class=\"sortingsetval\" name=\"sorting\" value=\"numasc\">\n                            <label for=\"chasc\">Channel Number ASC</label>\n                            <div class=\"check\"><div class=\"inside\"></div></div>\n                        </li>\n                        <li class=\"sortingset\">\n                            <input type=\"radio\" id=\"chdesc\" class=\"sortingsetval\" name=\"sorting\" value=\"numdesc\">\n                            <label for=\"chdesc\">Channel Number DESC</label>\n                            <div class=\"check\"><div class=\"inside\"></div></div>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"sort_footer\">\n                    <button class=\"closepopsortbtn\">CLOSE</button>&nbsp;\n                    <button class=\"savepopsortbtn\">SAVE</button>\n                </div>\n            </div>\n            <div class=\"col-sm-4\"></div>\n        </div>\n    </div>\n</div>\n\n<div class=\"header_popup hide dropdown-content\"> \t\n    <span id=\"homeshort\"><i class=\"fa fa-home\" aria-hidden=\"true\"></i> Home</span>\n    <span id=\"liveshort\"><i class=\"fa fa-television\" aria-hidden=\"true\"style=\"font-weight: bold;\" ></i> Live</span>\n    <span id=\"movieshort\"><i class=\"fa fa-film\" aria-hidden=\"true\"style=\"font-weight: bold;\" ></i> Movie</span>\n    <span id=\"serieshort\"><i class=\"fa fa-video-camera\" aria-hidden=\"true\" style=\"font-weight: bold;\"></i> Series</span>\n    <span id=\"settingshort\"><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Setting</span>\n    <span data-bs-toggle=\"modal\" data-bs-target=\"#seriesmodal\"><i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i> Logout</span>\n</div>\n\n<div class=\"mainBody\">\n    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 headerMain\">\n            <div class=\"row\">\n                <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">\n                    <div class=\"liveInBack\" style=\"text-align: center;\">\n                        <a class=\"nav-link text-light\" href=\"dashboard.php\" title=\"Back\">\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/back_arrow.png\" alt=\"Back\">\n                        </a>\n                    </div>\n                </div>\n                <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\" style=\"text-align: initial;\">\n                    <div class=\"liveInLogo\">\n                        <a class=\"nav-link text-light\" href=\"dashboard.php\" title=\"IPTV Smarters-WebTV\">\n                            <img src=\"";
echo !empty($logovalue) ? $logovalue : "themes/" . $currenttheme . "/images/logo_home1.png";
echo "\" alt=\"IPTV Smarters-WebTV\">\n                        </a>\n                   </div>\n                </div>\n                <div class=\"col-sm-2 col-xs-2 col-md-2 col-lg-2 padding\">\n                    <div class=\"liveInName\">\n                        <span>CATCH UP</span>\n                   </div>\n                </div>\n                <div class=\"col-sm-6 col-xs-6 col-md-6 col-lg-6 padding div6\">\n                    <div class=\"liveInTime\">\n                        <span class=\"time\"></span> <span class=\"date\" style=\" font-weight: 200; \"> ";
echo date("F d, Y");
echo "</span>\n                   </div>\n                </div>\n                <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding div1\">\n                    <div class=\"liveInsearch\">\n                        <!-- <span class=\"searchBar\"> <img src=\"images/live_search.png\" alt=\"Settings\"> <span>\n                        <a class=\"nav-link text-light\" title=\"Settings\">\n                            <img src=\"images/menu_vertical.png\" class=\"topsetshowpop\"  alt=\"Settings\">\n                            <img src=\"images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"imtwo topsethidepop hide\">\n                        </a> -->\n                        <span class=\"cwalldelbtn\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"\" data-bs-original-title=\"CLEAR CHANNELS HISTORY\" style=\"display: inline;opacity: 0;\">\n                            <i class=\"fa fa-trash\"></i>\n                        </span>\n                        <a class=\"nav-link text-light searchBar\" title=\"Search\">\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/live_search.png\" alt=\"IPTV Smarters-WebTV\" class=\"im\">\n                        </a>\n                        <a class=\"nav-link text-light\" title=\"Settings\">\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/menu_vertical.png\" alt=\"IPTV Smarters-WebTV\" class=\"topsetshowpop shows im\">\n                            <img src=\"themes/";
echo $currenttheme;
echo "/images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"topsethidepop imtwo hide\">\n                        </a>\n\n\n                   </div>\n                   <div class=\"livecenterSearch\" style=\"display: none;\">\n                        <img src=\"themes/";
echo $currenttheme;
echo "/images/back_arrow.png\" alt=\"searchBack\" class=\"closeSearch\">\n                        <img src=\"themes/";
echo $currenttheme;
echo "/images/live_search.png\" alt=\"centerSearch\" class=\"im\">\n                        <input type=\"search\" class=\"SearchStreams\" id=\"removestreamseach\" placeholder=\"Search Channel\">\n                    </div>\n                </div>\n                <!-- <div class=\"col-sm-1 col-xs-1 col-md-1 col-lg-1 padding\">\n                    <div class=\"liveInSet\">\n                        <a class=\"nav-link text-light\" title=\"Settings\">\n                            <img src=\"images/menu_vertical.png\" class=\"topsetshowpop\"  alt=\"Settings\">\n                            <img src=\"images/cross.png\" alt=\"IPTV Smarters-WebTV\" class=\"imtwo topsethidepop hide\">\n                        </a>\n                    </div>\n                </div> -->\n            </div>\n        </div>\n    </div>\n    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 fullcatchupage\">\n        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n            <div class=\"row\">\n                <div class=\"col-sm-3 col-xs-3 col-md-3 col-lg-3 padding\">\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n                                <div class=\"cateSearch livecateSearch\">\n                                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n                                    <input type=\"search\" id=\"removecateseach\" placeholder=\"Search in categories\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 pop_cateScroll\" id=\"categorysechtml\">\n                        ";
for ($i = 0; $i <= 15; $i++) {
    echo "                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n                                <div class=\"row cateList\" style=\"padding-top: 10px !important; padding-bottom: 0px !important;\">\n                                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\" style=\"text-align: initial;\">\n                                        <div class=\"liveCateList\">\n                                            <span style=\" padding-left: 0px !important; \">\n                                                <div class=\"linear-background-cate\">\n                                                    <div class=\"inter-draw-cate\"></div>\n                                                    <div class=\"inter-crop-cate\"></div>\n                                                    <div class=\"inter-right--top-cate\"></div>\n                                                    <div class=\"inter-right--bottom-cate\"></div>\n                                                </div>\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        ";
}
echo "                    </div>\n                </div>\n                <div class=\"col-sm-4 col-xs-4 col-md-4 col-lg-4 padding\">\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameMainscroll\">\n                    <img class=\"ldlz\" src=\"themes/";
echo $currenttheme;
echo "/images/golden.svg\" style=\"display:none; width: 30%;opacity: 1; visibility: visible;\">\n                        <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\" id=\"streamsdatahtml\">\n                            <div class=\"row\" >\n                                ";
for ($i = 0; $i <= 15; $i++) {
    echo "                                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveFrameBody onloadlive\">\n                                        <div class=\"row margin\">\n                                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12\">\n                                                <div class=\"liveFrameChanName\" style=\"text-align: center; width: 100%;\">\n                                                    <span style=\"width: 100%;\"> \n                                                        <div class=\"linear-background\">\n                                                            <div class=\"inter-draw\"></div>\n                                                            <div class=\"inter-crop\"></div>\n                                                            <div class=\"inter-right--top\"></div>\n                                                            <div class=\"inter-right--bottom\"></div>\n                                                        </div>\n                                                    </span><br>\n                                                    <label></label>\n                                                </div>\n                                            </div>   \n                                        </div>\n                                    </div>\n                                ";
}
echo "                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-sm-5 col-xs-5 col-md-5 col-lg-5 padding\" style=\" padding: 0px 14px 0px 14px !important\">\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveRightSideP\">\n                        <div class=\"row\">\n                            <div class=\"livePlayer video-player1\">\n                                <div id=\"liveplayer-wrapper\" style=\"height:inherit;\">\n                                    <img src=\"themes/";
echo $currenttheme;
echo "/images/playerbg.jpg\" alt=\"Player\">    \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveEPGMaindiv\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-12 col-xs-12 col-md-12 col-lg-12 liveEPGdiv\">\n                                <center class=\"notfoundepg\">Loading EPG...</center>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</body>\n</html>";

?>